<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="robots" content="all"><title>Parsing JSON in command-line with jq: basic filters and functions (part 1)</title><meta name="keywords" content="devops,rest,http,curl,jq,json,linux"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="dns-prefetch" href="//stackpath.bootstrapcdn.com"><link rel="shortcut icon" type="image/png" href="/favicon_new.png"><link rel="canonical" href="https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:wght@400;500;700|Poppins:300,400,400i,700|Montserrat:400,600,700|Roboto:300,400,400i,700|Lora:400,400i,700,700i&amp;display=swap"><link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"><link rel="stylesheet" href="/css/main.css?v=65"><link rel="stylesheet" href="/css/highlight.css?v=65"><meta name="description" content="Have you ever wondered, what is the most convenient way to parse JSON data in the Unix&#x2F;Linux command line? For instance, how to parse some information from the curl JSON response? Grep? No, thank you"><meta property="og:type" content="article"><meta property="og:title" content="Parsing JSON in command-line with jq: basic filters and functions (part 1)"><meta property="og:url" content="https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/"><meta property="og:site_name" content="e.printstacktrace.blog - I help you become a better software developer."><meta property="og:description" content="Have you ever wondered, what is the most convenient way to parse JSON data in the Unix&#x2F;Linux command line? For instance, how to parse some information from the curl JSON response? Grep? No, thank you"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://e.printstacktrace.blog/images/cards/6.png"><meta property="article:published_time" content="2020-05-24T16:28:32.000Z"><meta property="article:modified_time" content="2020-05-25T08:31:56.000Z"><meta property="article:author" content="Szymon Stepniak"><meta property="article:tag" content="devops"><meta property="article:tag" content="rest"><meta property="article:tag" content="http"><meta property="article:tag" content="curl"><meta property="article:tag" content="jq"><meta property="article:tag" content="json"><meta property="article:tag" content="linux"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://e.printstacktrace.blog/images/cards/6.png"><meta name="twitter:creator" content="@wololock"><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"https://e.printstacktrace.blog/#/schema/person/wololock","name":"Szymon Stepniak","description":"I help you become a better software developer.","image":{"@type":"ImageObject","@id":"https://e.printstacktrace.blog/#avatar","inLanguage":"en-US","url":"https://www.gravatar.com/avatar/b22c1842c6e8f7f2b9b3ed8c0d4efb4d?s=200","caption":"Szymon Stepniak"},"logo":{"@id":"https://e.printstacktrace.blog/#avatar"},"sameAs":["https://twitter.com/wololock","https://github.com/wololock","https://stackoverflow.com/users/2194470/szymon-stepniak","https://www.youtube.com/c/eprintstacktrace"]},{"@type":"WebSite","@id":"https://e.printstacktrace.blog/#website","url":"https://e.printstacktrace.blog","name":"e.printstacktrace.blog - I help you become a better software developer.","description":"Blog about programming, created by Upwork's Top Rated freelancer, 10+ years experienced Java/Groovy developer. Contact me if you are looking for an experienced and high quality consultant."},{"@type":"WebPage","@id":"https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/#webpage","url":"https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/","name":"Parsing JSON in command-line with jq: basic filters and functions (part 1)","isPartOf":{"@id":"https://e.printstacktrace.blog/#website"},"datePublished":"2020-05-24T16:28:32.000Z","dateModified":"2020-05-25T08:31:56.000Z","description":"\nHave you ever wondered, what is the most convenient way to parse JSON data in the Unix/Linux command line?\nFor instance, how to parse some information from the curl JSON response?\nGrep?\nNo, thank you.\nThere is a better tool for that.\nAnd it&#8217;s called jq.\n","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/"]}]},{"@type":"Article","@id":"https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/#article","isPartOf":{"@id":"https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/#webpage"},"author":{"@id":"https://e.printstacktrace.blog/#/schema/person/wololock"},"headline":"Parsing JSON in command-line with jq: basic filters and functions (part 1)","datePublished":"2020-05-24T16:28:32.000Z","dateModified":"2020-05-25T08:31:56.000Z","mainEntityOfPage":{"@id":"https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/#webpage"},"publisher":{"@id":"https://e.printstacktrace.blog/#/schema/person/wololock"},"keywords":"devops,rest,http,curl,jq,json,linux","image":{"@type":"ImageObject","@id":"https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/#primaryimage","url":"https://e.printstacktrace.blog/images/cards/6.png","inLanguage":"en-US","caption":"Parsing JSON in command-line with jq: basic filters and functions (part 1)"},"inLanguage":"en-US"},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://e.printstacktrace.blog"},{"@type":"ListItem","position":2,"name":"jq cookbook","item":"https://e.printstacktrace.blog/jq-cookbook/"},{"@type":"ListItem","position":3,"name":"Parsing JSON in command-line with jq: basic filters and functions (part 1)"}]}]}</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="e.printstacktrace.blog - I help you become a better software developer." type="application/atom+xml">
<style>.img-lazyload-container{overflow:hidden;max-width:100%}.img-lazyload-container img{max-width:100%;display:block;height:auto;transition:opacity .5s ease-in-out}.img-lazyload-container img:not([src]){height:0;opacity:0}</style></head><body><header class="fixed-top" id="header"><div class="container"><nav class="navbar navbar-light mx-0 px-0 justify-content-start"><a href="/">Home</a><a href="/about">About</a><a href="/archives">Archives</a><a href="/resources">Tools & Resources</a><a href="/support-me">Support me</a></nav></div></header><main id="main"><section class="sidebar-enabled" id="content"><div class="container"><div class="row"><div class="col-lg-3 bg-primary sidebar pt-5 d-flex align-items-start flex-column order-1 pr-lg-0"><div class="mb-auto"><div class="text-center pt-lg-5 pl-3"><a href="/about"><img class="rounded-circle mb-4" src="https://www.gravatar.com/avatar/b22c1842c6e8f7f2b9b3ed8c0d4efb4d?s=200" height="96"></a><h5>Hi!  I'm Szymon</h5><p class="small">I help you become a better software developer.</p></div><div class="my-4 pl-2 text-lg-right text-center"><ul class="social-media"><li><a class="gatr" target="_blank" rel="noopener" href="https://twitter.com/wololock" data-type="social-media" data-name="Twitter" title="Twitter"><i class="fa fa-twitter"></i><span class="number">1.12k</span><span class="description">Followers</span></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://www.youtube.com/eprintstacktrace" data-type="social-media" data-name="YouTube" title="YouTube"><i class="fa fa-youtube"></i><span class="number">1.96k</span><span class="description">Subscribers</span></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://github.com/wololock" data-type="social-media" data-name="Github" title="Github"><i class="fa fa-github"></i><span class="number">97</span><span class="description">Followers</span></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://stackoverflow.com/users/2194470/szymon-stepniak" data-type="social-media" data-name="StackOverflow" title="StackOverflow"><i class="fa fa-stack-overflow"></i><span class="number">29.4k</span><span class="description">Reputation</span></a></li></ul></div><div class="pl-4 mt-lg-5 pt-lg-5"><h4 class="h4 pt-4 mb-4 sans-serif">Latest posts from the <span class="h3 font-weight-bold">jq cookbook</span></h4><div class="media align-items-center pb-1 mb-3"><a class="d-block" href="#"><img class="rounded" src="/images/icons/4.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif" href="/how-to-convert-json-to-csv-from-the-command-line/">How to convert JSON to CSV from the command-line?</a></h5></div></div><div class="media align-items-center pb-1 mb-3"><a class="d-block" href="#"><img class="rounded" src="/images/icons/5.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif" href="/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/">Parsing JSON in command-line with jq: basic filters and funct...</a></h5></div></div></div><div class="mb-5 pt-5 text-center"><a class="gatr" target="_blank" rel="noopener" href="https://click.linksynergy.com/fs-bin/click?id=uow2LCEuhvQ&amp;offerid=572706.11&amp;type=3&amp;subid=0" data-type="banner" data-name="nordvpn-02"><img class="img-fluid" data-lazy="/images/yml/nord-vpn-02.png"></a></div></div><div class="spread-the-love pt-4 mt-lg-5"><div class="mb-lg-5 pb-5 pl-lg-4"><h3 class="mb-3">Don't miss anything - join my newsletter</h3><p class="text-justify">Usu tantas omittantur ut, per te modo appetere senserit. Ei ius aperiam tincidunt, ea sit natum iisque repudiandae. Ea nec wisi facete. Ex hinc rebum omittam his.</p><div id="ck-5bc70426c4-box"></div><script>function load_newsletter(e){var t=document.getElementById("ck-5bc70426c4-box");if(document.contains(t)){var n=t.parentElement;t.remove();var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://tremendous-motivator-1432.ck.page/"+e+"/index.js",o.setAttribute("data-uid",e),n.appendChild(o),console.log("Convertkit "+e+" loaded.")}}window.addEventListener("scroll",function(e){var t=document.scrollingElement.scrollTop,n=document.getElementById("ck-5bc70426c4-box");document.contains(n)&&t>n.getBoundingClientRect().top- -500&&load_newsletter("5bc70426c4")})</script></div><div class="pl-lg-3 text-lg-left text-center"><p class="m-0 serif">Did you like this article?</p><h5 class="text-uppercase">Spread the <i class="fa fa-heart"></i>!</h5><ul class="mb-5"><li><a class="gatr" target="_blank" rel="noopener" href="https://twitter.com/intent/tweet?text=Parsing JSON in command-line with jq: basic filters and functions (part 1) https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/ via @wololock" data-type="share" data-name="Shared on Twitter"><i class="fa fa-twitter"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://www.linkedin.com/shareArticle?url=https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/" data-type="share" data-name="Shared on LinkedIn"><i class="fa fa-linkedin"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://www.facebook.com/sharer.php?u=https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/" data-type="share" data-name="Shared on Facebook"><i class="fa fa-facebook-square"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="http://www.reddit.com/submit?url=https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/&amp;title=Parsing JSON in command-line with jq: basic filters and functions (part 1)" data-type="share" data-name="Shared on Reddit"><i class="fa fa-reddit"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/button/?url=https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/&amp;media=https://e.printstacktrace.blog/images/cards/6.png&amp;description=Parsing JSON in command-line with jq: basic filters and functions (part 1)" data-type="share" data-name="Shared on Pinterest"><i class="fa fa-pinterest"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://ko-fi.com/eprintstacktrace" data-type="share" data-name="Clicked on Ko-Fi">锔</a></li></ul></div></div></div><div class="col-lg-9 py-5 order-0"><div class="pr-lg-4 px-1 pt-lg-5"><nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="/">e.printstacktrace.blog</a></li><li class="breadcrumb-item"><a href="/jq-cookbook/">jq cookbook</a></li></ol></nav><article class="post-body"><h1>Parsing JSON in command-line with jq: basic filters and functions (part 1)</h1><div class="post-meta mb-4"><ul><li><time datetime="2020-05-24T16:28:32.000Z">May 24, 2020</time></li><li>12 min. read</li><li><a href="https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/#disqus_thread">0 Comments</a></li></ul></div><div class="content"><div class="paragraph"><p>Have you ever wondered, what is the most convenient way to parse JSON data in the Unix/Linux command line? For instance, how to parse some information from the <code>curl</code> JSON response? Grep? No, thank you. There is a better tool for that. And it&#8217;s called <code>jq</code>.</p></div><a id="more"></a><div class="paragraph"><p>Welcome to the first episode of the <strong>jq cookbook</strong> series! The first episode is not about theory - we jump to the first exercise in just a second. I strongly encourage you to <a target="_blank" rel="noopener" href="https://stedolan.github.io/jq/download/">install <code>jq</code> command-line tool</a> in your operating system and follow me. There are some exciting things to learn today, and we are starting right now!</p></div><div id="toc" class="toc"><div id="toctitle" class="title">Table of Contents</div><ul class="sectlevel1"><li><a href="#introduction">Introduction</a></li><li><a href="#invoking-jq">Invoking <code>jq</code></a></li><li><a href="#processing-input-from-command-other-than-curl">Processing input from command other than <code>curl</code></a></li><li><a href="#extracting-fields-from-the-array">Extracting fields from the array</a></li><li><a href="#filtering-null-values-with-selectexpr-filter">Filtering <code>null</code> values with <code>select(expr)</code> filter</a></li><li><a href="#sorting-by-field-with-sort_byexpr-filter">Sorting by field with <code>sort_by(expr)</code> filter</a></li><li><a href="#limiting-the-size-of-the-result-with-limitnexpr-filter">Limiting the size of the result with <code>limit(n;expr)</code> filter</a></li><li><a href="#grouping-by-using-group_byexpr-filter">Grouping by using <code>group_by(expr)</code> filter</a></li><li><a href="#putting-it-all-together">Putting it all together</a></li></ul></div><div class="sect1"><h2 id="introduction">Introduction</h2><div class="sectionbody"><div class="paragraph"><p>In this blog post, I will use <a target="_blank" rel="noopener" href="https://openlibrary.org/dev/docs/api/search">openlibrary.org public Search API</a>. The reason for that is simple - it returns quite complex and interesting data we can process, and it still mimics a real-life example. I want to use this API to run a full-text search query. I&#8217;m going to use my last name as a search term - it is not a very popular Polish last name, so there shouldn&#8217;t be many results associated with it.</p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">The JSON response used in this example is 3631 lines long. To keep all code samples clear, I will limit the JSON output to max. 10-15 lines. The original document can be found here - <span class="icon"><i class="fa fa-github"></i></span> <a target="_blank" rel="noopener" href="https://gist.github.com/wololock/0ba478cfeb73b36c41c4f8c814111db3">openlibrary.json</a>.</td></tr></table></div><div class="listingblock"><div class="title">Listing 1. An example of openlibrary.org full-text search query</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl -s "http://openlibrary.org/search.json?q=st%C4%99pniak"
&#123;
 "start": 0,
 "num_found": 44,
 "numFound": 44,
 "docs": [
    ...
  ]
&#125;</code></pre></div></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">My last name contains Polish letter <code></code>, which gets encoded as <code>%C4%99</code>.</td></tr></table></div></div></div><div class="sect1"><h2 id="invoking-jq">Invoking <code>jq</code></h2><div class="sectionbody"><div class="paragraph"><p>Once we have the JSON document to process, it&#8217;s time to invoke <code>jq</code> processor. The simplest way to do it is to pipe the output from the <code>curl</code> command to the <code>jq</code> input.</p></div><div class="listingblock"><div class="title">Listing 2. Pipe from <code>curl</code> to <code>jq</code> example.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl -s "http://openlibrary.org/search.json?q=st%C4%99pniak" | jq .</code></pre></div></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">The <code>.</code> in the <code>jq</code> filter means <strong>identity</strong>.</td></tr></table></div><div class="paragraph"><p>This simple pipe doesn&#8217;t do much, and <code>jq</code> just prints the JSON "as is." However, there is one difference when compared with the plain <code>curl</code> response. <code>jq</code> by default prints JSON document using "pretty" format, and it adds some basic colors.</p></div><div class="openblock text-center"><div class="content"><div class="imageblock img-responsive img-thumbnail"><div class="content"><a class="image" href="/images/curl-jq-basic-example.jpg"><div class="img-lazyload-container" style="width:1280px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center"><img data-original="/images/curl-jq-basic-example.jpg" height="351" width="1280" style="padding-top:27.421875%"></div></a></div><div class="title">Figure 1. Plain <code>curl</code> output on the left side. The simplest <code>jq .</code> output on the right side.</div></div></div></div></div></div><div class="sect1"><h2 id="processing-input-from-command-other-than-curl">Processing input from command other than <code>curl</code></h2><div class="sectionbody"><div class="paragraph"><p>Using pipes comes with huge benefits - it doesn&#8217;t matter what command produces the input. It means that we can forward the <code>curl</code> command output to a file, and then use this file to produce input for the <code>jq</code> processor. This might be very useful when we do experiments, and we don&#8217;t want to download the same JSON document over and over again.</p></div><div class="listingblock"><div class="title">Listing 3. Forwarding <code>curl</code> output to the openlibrary.json file</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl -s "http://openlibrary.org/search.json?q=st%C4%99pniak" &gt; openlibrary.json</code></pre></div></div><div class="paragraph"><p>Once we captured the input, we can e.g., pipe commands <code>cat</code> and <code>jq</code> to produce the same result, but this time without involving the call over the network.</p></div><div class="listingblock"><div class="title">Listing 4. Pipe from <code>cat</code> to <code>jq</code> example.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ cat openlibrary.json | jq .</code></pre></div></div><div class="paragraph"><p>However, using <code>cat</code> is not necessary if we want to read the input from a file - <code>jq</code> takes a file as an argument as well. In the all upcoming examples, I will use this syntax to save a few characters.</p></div><div class="listingblock"><div class="title">Listing 5. Taking input from the file example.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq . openlibrary.json</code></pre></div></div></div></div><div class="sect1"><h2 id="extracting-fields-from-the-array">Extracting fields from the array</h2><div class="sectionbody"><div class="paragraph"><p>Let&#8217;s start processing the data with some real filters. The document we took from the openlibrary.org Search API has a list under the <code>docs</code> key. This list contains all documents matching the search term. Every document is described using multiple fields, but we are interested in the <code>title</code>, <code>author_name</code>, and <code>publish_year</code> only.</p></div><div class="paragraph"><p>The first filter we want to use is called <strong>array/object value iterator <code>.[]</code></strong>. This filter extracts values from the given array (or object), so the next filter in the pipeline gets applied to each element. In our case, we want to apply <code>.docs[]</code> filter to extract documents.</p></div><div class="listingblock"><div class="title">Listing 6. Applying array value iterator on the <code>docs</code> key.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '.docs[]' openlibrary.json
&#123;
  "title_suggest": "Sownik tajemnych gwar przestpczych",
  "edition_key": [
    "OL1174034M"
  ],
  "isbn": [
    "9781859170069",
    "1859170064"
  ],
  ....</code></pre></div></div><div class="paragraph"><p>The next step is to extract only specific fields. <code>jq</code> filters support piping to apply new filters on top of the results from the previous ones. It uses the same <code>|</code> symbol, but pay attention to one significant difference - piping filters happens inside the <code>jq</code> argument string.</p></div><div class="listingblock"><div class="title">Listing 7. Piping <code>jq</code> filters to extract specific fields.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '.docs[] | &#123;title,author_name,publish_year&#125;' openlibrary.json
&#123;
  "title": "Sownik tajemnych gwar przestpczych",
  "author_name": [
    "Klemens Stpniak"
  ],
  "publish_year": [
    1993
  ]
&#125;
&#123;
  "title": "EU adjustment to eastern enlargement",
  "author_name": null,
  "publish_year": [
    1998
  ]
&#125;
...</code></pre></div></div><div class="paragraph"><p>Looks good. Every document got extracted to the new one, containing only three fields. However, <code>author_name</code> and <code>publish_year</code> seem to be arrays. We can update the filter to extract the first value from those arrays and store them as scalar values instead.</p></div><div class="listingblock"><div class="title">Listing 8. Transforming arrays to scalar values example.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '.docs[] | &#123;title,author_name: .author_name[0], publish_year: .publish_year[0]&#125;' openlibrary.json
&#123;
  "title": "Sownik tajemnych gwar przestpczych",
  "author_name": "Klemens Stpniak",
  "publish_year": 1993
&#125;
&#123;
  "title": "EU adjustment to eastern enlargement",
  "author_name": null,
  "publish_year": 1998
&#125;
...</code></pre></div></div><div class="paragraph"><p>I guess you already noticed that we can transform objects either by just referring to the field name (e.g. <code>title</code>) or by constructing the new field explicitly (e.g. <code>author_name: .author_name[0]</code>.)</p></div></div></div><div class="sect1"><h2 id="filtering-null-values-with-selectexpr-filter">Filtering <code>null</code> values with <code>select(expr)</code> filter</h2><div class="sectionbody"><div class="paragraph"><p>When I looked at the response, I noticed that some documents were missing either <code>author_name</code> or <code>publish_year</code>. We can exclude such documents from the final result using the <code>select(expr)</code> filter.</p></div><div class="listingblock"><div class="title">Listing 9. Filtering objects containing <code>null</code> values.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '.docs[] | &#123;title,author_name: .author_name[0], publish_year: .publish_year[0]&#125; | select(.author_name!=null and .publish_year!=null)' openlibrary.json
&#123;
  "title": "Sownik tajemnych gwar przestpczych",
  "author_name": "Klemens Stpniak",
  "publish_year": 1993
&#125;
&#123;
  "title": "Integracja regionalna i transfer kapitau",
  "author_name": "Andrzej Stpniak",
  "publish_year": 1996
&#125;
...</code></pre></div></div></div></div><div class="sect1"><h2 id="sorting-by-field-with-sort_byexpr-filter">Sorting by field with <code>sort_by(expr)</code> filter</h2><div class="sectionbody"><div class="paragraph"><p>Now let&#8217;s say we want to get the result in a specific order. What if we want to sort the final result by <code>publish_year</code>? <code>jq</code> offer the <code>sort_by(expr)</code> filter, but before we apply it, we need to make one modification. The <code>sort_by(expr)</code> filter works on arrays, and our current output is not an array. If you look closely, you will see that this is just a set of JSON documents printed one after another. We can transform it into a JSON array by wrapping our current long filter with square brackets - an array constructor.</p></div><div class="paragraph"><p>Compare the following example with the previous one and spot the difference.</p></div><div class="listingblock"><div class="title">Listing 10. Transforming set of JSON objects into a JSON array of objects using <code>[]</code> constructor.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '[.docs[] | &#123;title,author_name: .author_name[0], publish_year: .publish_year[0]&#125; | select(.author_name!=null and .publish_year!=null)]' openlibrary.json
[
  &#123;
    "title": "Sownik tajemnych gwar przestpczych",
    "author_name": "Klemens Stpniak",
    "publish_year": 1993
  &#125;,
  &#123;
    "title": "Integracja regionalna i transfer kapitau",
    "author_name": "Andrzej Stpniak",
    "publish_year": 1996
  &#125;,
  ...
]</code></pre></div></div><div class="paragraph"><p>Once we have a JSON array constructed, we can pipe <code>sort_by(.publish_year)</code> into our filter.</p></div><div class="listingblock"><div class="title">Listing 11. Sorting a JSON array of objects by specific field using <code>sort_by(expr)</code>.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '[.docs[] | &#123;title,author_name: .author_name[0], publish_year: .publish_year[0]&#125; | select(.author_name!=null and .publish_year!=null)] | sort_by(.publish_year)' openlibrary.json
[
  &#123;
    "title": "Rada Portu i Dr贸g Wodnych w Wolnym Miecie Gdasku.  Gdasku",
    "author_name": "Henryk Stpniak",
    "publish_year": 1971
  &#125;,
  &#123;
    "title": "Potrcenie w systemie polskiego prawa cywilnego",
    "author_name": "Lechosaw Stpniak",
    "publish_year": 1975
  &#125;,
  &#123;
    "title": "Uzdatnianie zomu poprodukcyjnego",
    "author_name": "Stanisaw Stpniak",
    "publish_year": 1978
  &#125;,
  ...
]</code></pre></div></div><div class="paragraph"><p>By default, <code>sort_by(expr)</code> sorts objects in the ascending order. To sort objects in the descending order, we can pipe <code>reverse</code> filter after the <code>sort_by(expr)</code> one.</p></div><div class="listingblock"><div class="title">Listing 12. Sorting in the descending order.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '[.docs[] | &#123;title,author_name: .author_name[0], publish_year: .publish_year[0]&#125; | select(.author_name!=null and .publish_year!=null)] | sort_by(.publish_year) | reverse' openlibrary.json
[
  &#123;
    "title": "Dziedzictwo archiwalne we wsp贸pracy Polski i Ukrainy",
    "author_name": "Wadysaw Stpniak",
    "publish_year": 2010
  &#125;,
  &#123;
    "title": "Misja Su偶by Wiziennej a jej zadania wobec aktualnej polityki karnej i oczekiwa spoecznych",
    "author_name": "Polski Kongres Penitencjarny (4th 2008 Pozna, Poland)",
    "publish_year": 2008
  &#125;,
  &#123;
    "title": "Czarny B贸r",
    "author_name": "Wadysaw Stpniak",
    "publish_year": 2007
  &#125;,
  ...
]</code></pre></div></div></div></div><div class="sect1"><h2 id="limiting-the-size-of-the-result-with-limitnexpr-filter">Limiting the size of the result with <code>limit(n;expr)</code> filter</h2><div class="sectionbody"><div class="paragraph"><p>As the next step, we may want to limit the size of the result. Let&#8217;s say we want to get the newest three publications as a result. We can use <code>limit(n;expr)</code> filter, but we need to be aware of one thing. To limit the size of an array using this filter, we need to use an expression that extracts values from an array for iteration - <code>.[]</code>. Once <code>limit(n;expr)</code> limits the number of objects, it produces the output in the same format. It means that we don&#8217;t get an array but rather a set of separate results instead.</p></div><div class="listingblock"><div class="title">Listing 13. Applying <code>limit(3;.[])</code> filter.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '[.docs[] | &#123;title,author_name: .author_name[0], publish_year: .publish_year[0]&#125; | select(.author_name!=null and .publish_year!=null)] | sort_by(.publish_year)| reverse | limit(3;.[])' openlibrary.json
&#123;
  "title": "Dziedzictwo archiwalne we wsp贸pracy Polski i Ukrainy",
  "author_name": "Wadysaw Stpniak",
  "publish_year": 2010
&#125;
&#123;
  "title": "Misja Su偶by Wiziennej a jej zadania wobec aktualnej polityki karnej i oczekiwa spoecznych",
  "author_name": "Polski Kongres Penitencjarny (4th 2008 Pozna, Poland)",
  "publish_year": 2008
&#125;
&#123;
  "title": "Czarny B贸r",
  "author_name": "Wadysaw Stpniak",
  "publish_year": 2007
&#125;</code></pre></div></div><div class="paragraph"><p>If we want to represent the result as a JSON array, we need to wrap <code>limit(n;expr)</code> filter with <code>[]</code> to construct an array again.</p></div><div class="listingblock"><div class="title">Listing 14. Final JSON array of the three latest documents.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '[.docs[] | &#123;title,author_name: .author_name[0], publish_year: .publish_year[0]&#125; | select(.author_name!=null and .publish_year!=null)] | sort_by(.publish_year)| reverse | [limit(3;.[])]' openlibrary.json
[
  &#123;
    "title": "Dziedzictwo archiwalne we wsp贸pracy Polski i Ukrainy",
    "author_name": "Wadysaw Stpniak",
    "publish_year": 2010
  &#125;,
  &#123;
    "title": "Misja Su偶by Wiziennej a jej zadania wobec aktualnej polityki karnej i oczekiwa spoecznych",
    "author_name": "Polski Kongres Penitencjarny (4th 2008 Pozna, Poland)",
    "publish_year": 2008
  &#125;,
  &#123;
    "title": "Czarny B贸r",
    "author_name": "Wadysaw Stpniak",
    "publish_year": 2007
  &#125;
]</code></pre></div></div></div></div><div class="sect1"><h2 id="grouping-by-using-group_byexpr-filter">Grouping by using <code>group_by(expr)</code> filter</h2><div class="sectionbody"><div class="paragraph"><p>Let&#8217;s say we want to find out how many publications each author created. <code>jq</code> offers built-in <code>group_by(expr)</code> filter we can use. In our case, we will use <code>group_by(.author_name)</code> to group all publications by their authors.</p></div><div class="listingblock"><div class="title">Listing 15. Grouping results using <code>group_by(.author_name)</code> filter.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '[.docs[] | &#123;title,author_name: .author_name[0], publish_year: .publish_year[0]&#125; | select(.author_name!=null and .publish_year!=null)] | group_by(.author_name)' openlibrary.json
[
  [
    &#123;
      "title": "Integracja regionalna i transfer kapitau",
      "author_name": "Andrzej Stpniak",
      "publish_year": 1996
    &#125;,
    &#123;
      "title": "Promocja polskich podmiot贸w inwestycyjnych na obszarze Wsp贸lnot Europejskich",
      "author_name": "Andrzej Stpniak",
      "publish_year": 1993
    &#125;,
    &#123;
      "title": "Kwestia narodowa a spoeczna na lsku Cieszyskim pod koniec XIX i w pocztkach XX wieku, do 1920 roku",
      "author_name": "Andrzej Stpniak",
      "publish_year": 1986
    &#125;,
    &#123;
      "title": "Polska-WE",
      "author_name": "Andrzej Stpniak",
      "publish_year": 1993
    &#125;
  ],
  [
    &#123;
      "title": "Kula jako symbol vanitas",
      "author_name": "Beata Purc-Stpniak",
      "publish_year": 2004
    &#125;
  ],
  ....
]</code></pre></div></div><div class="paragraph"><p>As you can see now, <code>group_by(.author_name)</code> produced an array of arrays. It&#8217;s hard to say how many publications each author did from this document, so we might need to transform this output a bit.</p></div><div class="paragraph"><p>The next filter we need to apply is <code>.[]</code> to start iterating over the grouped arrays. We will pipe this iteration with a transformation that extracts <code>author_name</code> field from the first result using <code>&#123;author_name: .[0].author_name&#125;</code> filter. And as we seen before, <code>.[] | &#123;author_name: .[0].author_name&#125;</code> combination produces a set of results, so we need to wrap it with <code>[]</code> to construct an array.</p></div><div class="listingblock"><div class="title">Listing 16. Extracting <code>author_name</code> from the grouped result.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '[.docs[] | &#123;title,author_name: .author_name[0], publish_year: .publish_year[0]&#125; | select(.author_name!=null and .publish_year!=null)] | group_by(.author_name)| [.[] | &#123;author_name: .[0].author_name&#125;]' openlibrary.json
[
  &#123;
    "author_name": "Andrzej Stpniak"
  &#125;,
  &#123;
    "author_name": "Beata Purc-Stpniak"
  &#125;,
  &#123;
    "author_name": "Colloquia Jerzy Skowronek dedicata (10th 2004 Warsaw, Poland)"
  &#125;,
  ....
]</code></pre></div></div><div class="paragraph"><p>That&#8217;s a good step forward - now we have author names extracted from the grouped result. The next step is to update the transformation filter to also produce the <code>count</code> field - a field containing the number of publications. There is a simple way to do it. The current transformation filter, <code>[.[] | &#123;author_name: .[0].author_name&#125;]</code>, iterates the nested arrays that contain all documents associated with the same author. It means that <code>.</code> (identity) in this filter refers to a list of objects, and that is why we extract the author name using <code>.[0].author_name</code> expression, which means: take the first object from the array and return its <code>author_name</code> value. We can use this array to count its size. In the <code>jq</code>, we have a filter called <code>length</code> that can be piped with an array to return its size. So in our case, an expression <code>. | lenght</code> used in the context of this transformation will return the size of an array, which represents the number of publications.</p></div><div class="listingblock"><div class="title">Listing 17. Extracting the number of publications using <code>length</code> filter.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '[.docs[] | &#123;title,author_name: .author_name[0], publish_year: .publish_year[0]&#125; | select(.author_name!=null and .publish_year!=null)] | group_by(.author_name)| [.[] | &#123;author_name: .[0].author_name, count: . | length&#125;]' openlibrary.json
[
  &#123;
    "author_name": "Andrzej Stpniak",
    "count": 4
  &#125;,
  &#123;
    "author_name": "Beata Purc-Stpniak",
    "count": 1
  &#125;,
  &#123;
    "author_name": "Colloquia Jerzy Skowronek dedicata (10th 2004 Warsaw, Poland)",
    "count": 1
  &#125;,
  ....
]</code></pre></div></div><div class="paragraph"><p>Voila! <span class="icon"><i class="fa fa-smile-o"></i></span></p></div></div></div><div class="sect1"><h2 id="putting-it-all-together">Putting it all together</h2><div class="sectionbody"><div class="paragraph"><p>Let&#8217;s finish this experiment by putting all commands we have learned today together. We can add <code>sort_by(expr)</code> and <code>limit(n;expr)</code> to the latest query to produce the final result - an array of three authors that published the most documents.</p></div><div class="listingblock"><div class="title">Listing 18. Extracting the number of publications using <code>length</code> filter.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ jq '[.docs[] | &#123;title,author_name: .author_name[0], publish_year: .publish_year[0]&#125; | select(.author_name!=null and .publish_year!=null)] | group_by(.author_name)| [.[] | &#123;author_name: .[0].author_name, count: . | length&#125;] | sort_by(.count) | reverse | [limit(3;.[])]' openlibrary.json
[
  &#123;
    "author_name": "Wadysaw Stpniak",
    "count": 11
  &#125;,
  &#123;
    "author_name": "Andrzej Stpniak",
    "count": 4
  &#125;,
  &#123;
    "author_name": "Henryk Stpniak",
    "count": 3
  &#125;
]</code></pre></div></div><div class="paragraph"><p>And that&#8217;s it for today. In the next episode, we will dive deeper into more advanced filters and functions that <code>jq</code> offers. Stay tuned! <span class="icon"><i class="fa fa-smile-o"></i></span></p></div><div class="paragraph"><p></p><div class="youtube-row py-5"><div class="row"><div class="col-12 col-lg-5 text-lg-left text-center mb-lg-0 mb-4"><a class="thumb gatr d-inline-block" target="_blank" rel="noopener" href="https://youtu.be/EIhLl9ebeiA" data-time="9:44" data-type="youtube" data-name="Parsing JSON from curl with jq: sort_by, group_by, limit (part 1) | #jq #json #curl"><img class="img-fluid shadow" data-lazy="https://i3.ytimg.com/vi/EIhLl9ebeiA/mqdefault.jpg"></a></div><div class="col-12 col-lg-7"><h5 class="m-0 p-0 mb-3 text-lg-left text-center"><a class="gatr" target="_blank" rel="noopener" href="https://youtu.be/EIhLl9ebeiA" data-type="youtube" data-name="Parsing JSON from curl with jq: sort_by, group_by, limit (part 1) | #jq #json #curl">Parsing JSON from curl with jq: sort_by, group_by, limit (part 1) | #jq #json #curl</a></h5><p class="sans-serif small text-lg-left text-justify">In this video, I show you how to use the jq command-line to parse and transform a JSON response to the desired format. I use openlibrary.org Search API to get a complex JSON document (~3600 lines) using curl command for further parsing using jq. In the first step, we extract three fields for each document (title, author, publishing year) and then we continue transforming the JSON - we sort it, we limit the number of elements, and last but not least, we group elements by the author name. <a class="gatr font-weight-bold" target="_blank" rel="noopener" href="https://youtu.be/EIhLl9ebeiA" data-type="youtube" data-name="Parsing JSON from curl with jq: sort_by, group_by, limit (part 1) | #jq #json #curl">Watch&nbsp;now&nbsp;&raquo;</a></p></div></div></div><p></p></div></div></div></div><ul class="tags-list mt-4"><li><a href="/t/devops/">devops</a></li><li><a href="/t/rest/">rest</a></li><li><a href="/t/http/">http</a></li><li><a href="/t/curl/">curl</a></li><li><a href="/t/jq/">jq</a></li><li><a href="/t/json/">json</a></li><li><a href="/t/linux/">linux</a></li></ul></article></div></div></div></div></section><section class="bg-dark posts-layout-01" id="related" data-debug="Scrolled to related posts"><div class="container py-5"><div class="row py-lg-5"><div class="col-12 col-lg-7 d-flex align-items-start mb-lg-0 mb-4"><div class="px-3 px-lg-0 pr-lg-5"><article><a href="/atomic-habits-book-review/"><img class="mb-4 shadow" data-lazy="/images/cards/9.png" width="100%"></a><p class="subtitle m-0"><a href="/programmers-bookshelf/">Programmer's Bookshelf</a></p><h3 class="m-0 serif"><a href="/atomic-habits-book-review/">Atomic Habits - book review</a></h3><div class="post-meta mb-4"><ul><li><time datetime="2020-06-02T09:22:10.000Z">June 2, 2020</time></li><li>12 min. read</li><li><a href="https://e.printstacktrace.blog/atomic-habits-book-review/#disqus_thread">0 Comments</a></li></ul></div><p class="small">Sticking to the process of achieving my goals has always been one of the most difficult obstacles to overcome, both on my way to becoming a better professional, and in my private life. I have found that in some areas I need to make an extraordinary amount of effort to keep myself on the right track, no matter how S.M.A.R.T. (Specific, Measurable, Achievable, Relevant, Time-based) my goals are. I couldnt understand why in some cases I was able to make the desired progress, while in others I kept failing. Was it a matter of talent I was missing, or a skill I havent acquired yet? I have seen the dots, but I didnt yet know how to connect them.</p></article></div></div><div class="col-12 col-lg-5"><div class="px-3 px-lg-0"><article class="tile"><div class="row mb-4"><div class="col-9"><p class="subtitle m-0"><a href="/ratpack-cookbook/">Ratpack Cookbook</a></p><h4 class="m-0 serif"><a href="/using-the-same-prefix-with-different-http-methods-in-ratpack/">Using the same prefix with different HTTP methods in Ratpack</a></h4><div class="post-meta mb-4"><ul><li><time datetime="2019-04-01T08:12:52.000Z">April 1, 2019</time></li><li>12 min. read</li><li><a href="https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#disqus_thread">0 Comments</a></li></ul></div><p class="small">Ratpack is an excellent tool for building RESTful[1] applications. However, to benefit most of i...</p></div><div class="col-3"><a href="/using-the-same-prefix-with-different-http-methods-in-ratpack/"><img class="img-fluid rounded shadow-sm mt-3 mb-lg-0" data-lazy="/images/icons/25.png"></a></div></div></article><article class="tile"><div class="row mb-4"><div class="col-9"><p class="subtitle m-0"><a href="/jq-cookbook/">jq cookbook</a></p><h4 class="m-0 serif"><a href="/how-to-convert-json-to-csv-from-the-command-line/">How to convert JSON to CSV from the command-line?</a></h4><div class="post-meta mb-4"><ul><li><time datetime="2020-08-25T18:44:31.000Z">August 25, 2020</time></li><li>12 min. read</li><li><a href="https://e.printstacktrace.blog/how-to-convert-json-to-csv-from-the-command-line/#disqus_thread">0 Comments</a></li></ul></div><p class="small">Are you looking for an easy and fast way to convert a JSON file to a CSV one? In this blog post,...</p></div><div class="col-3"><a href="/how-to-convert-json-to-csv-from-the-command-line/"><img class="img-fluid rounded shadow-sm mt-3 mb-lg-0" data-lazy="/images/icons/4.png"></a></div></div></article><article class="tile"><div class="row mb-4"><div class="col-9"><p class="subtitle m-0"><a href="/jenkins-pipeline-cookbook/">Jenkins Pipeline Cookbook</a></p><h4 class="m-0 serif"><a href="/how-to-catch-curl-response-in-jenkins-pipeline/">How to catch curl response in Jenkins Pipeline?</a></h4><div class="post-meta mb-4"><ul><li><time datetime="2020-06-22T18:20:41.000Z">June 22, 2020</time></li><li>12 min. read</li><li><a href="https://e.printstacktrace.blog/how-to-catch-curl-response-in-jenkins-pipeline/#disqus_thread">0 Comments</a></li></ul></div><p class="small">In this blog post, I explain why you may want to use curl command in your Jenkinsfile, how to ca...</p></div><div class="col-3"><a href="/how-to-catch-curl-response-in-jenkins-pipeline/"><img class="img-fluid rounded shadow-sm mt-3 mb-lg-0" data-lazy="/images/icons/48.png"></a></div></div></article><a class="gatr" target="_blank" rel="noopener" href="https://click.linksynergy.com/fs-bin/click?id=uow2LCEuhvQ&amp;offerid=572706.11&amp;type=3&amp;subid=0" data-type="banner" data-name="nordvpn-03"><img class="img-fluid" data-lazy="/images/yml/nord-vpn-03.png"></a></div></div></div></div></section><section class="sidebar-enabled" id="comments" data-debug="Scrolled to comments"><div class="container"><div class="row"><div class="col-12 col-lg-3 sidebar order-1 pr-0"><div class="py-5 position-sticky text-center" style="top:20px"><a class="gatr" target="_blank" rel="noopener" href="https://www.jdoqocy.com/click-100191173-10952823" data-type="banner" data-name="grammarly-01"><img class="img-fluid" data-lazy="/images/yml/grammarly-tower.png"></a></div></div><div class="col-12 col-lg-9 order-0"><div class="pr-lg-5 pt-5"><p class="m-0 serif small text-muted">Any thoughts or ideas?</p><h2 class="mb-4">Let's talk in the comment's section </h2><div class="disqus-comments"><div class="tip mb-5">Want to put a code sample in the comment? Read the <a target="_blank" rel="noopener" href="https://help.disqus.com/en/articles/1717236-syntax-highlighting"><b>Syntax highlighting</b></a> guide for more information.</div><div class="comments"><div id="disqus_thread"><div id="disqus_empty" style="display:none">Empty</div></div></div></div><script>function load_disqus(e){var t=document.getElementById("disqus_empty");if(document.contains(t)){var d=document.getElementById("disqus_thread"),n=document.createElement("script"),s=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];d&&t&&(t.remove(),n.type="text/javascript",n.async=!0,n.src="//"+e+".disqus.com/embed.js",s.appendChild(n))}}window.addEventListener("scroll",function(e){document.scrollingElement.scrollTop>document.getElementById("disqus_thread").offsetTop-500&&load_disqus("eprintstacktrace")},!1)</script></div></div></div></div></section></main><footer class="bg-dark" id="footer" data-debug="Scrolled to footer"><div class="container py-5"><div class="px-lg-0 px-3"><div class="row py-lg-3"><div class="col-12 col-md-6"><h5 class="mb-4">Latest blog posts</h5><ul class="list-unstyled mb-5"><li><a href="/jenkins-declarative-pipeline-dynamic-agent/">Jenkins Declarative Pipeline with the dynamic agent - how to configure it?</a></li><li><a href="/groovy-ecosystem-usage-report-2020/">Groovy Ecosystem Usage Report (2020)</a></li><li><a href="/how-to-convert-json-to-csv-from-the-command-line/">How to convert JSON to CSV from the command-line?</a></li><li><a href="/5-common-jenkins-pipeline-mistakes/">5 Common Jenkins Pipeline Mistakes</a></li><li><a href="/how-to-merge-two-maps-in-groovy/">How to merge two maps in Groovy?</a></li><li><a href="/building-stackoverflow-cli-with-java-11-micronaut-picocli-and-graalvm/">Building stackoverflow-cli with Java 11, Micronaut, Picocli, and GraalVM</a></li><li><a href="/how-to-catch-curl-response-in-jenkins-pipeline/">How to catch curl response in Jenkins Pipeline?</a></li><li><a href="/atomic-habits-book-review/">Atomic Habits - book review</a></li><li><a href="/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/">Parsing JSON in command-line with jq: basic filters and functions (part 1)</a></li><li><a href="/how-to-time-out-jenkins-pipeline-stage-and-keep-the-pipeline-running/">How to time out Jenkins Pipeline stage and keep the pipeline running?</a></li></ul></div><div class="col-12 col-md-6"><h5 class="mb-4">Trending videos</h5><div class="youtube-row mb-4"><div class="row"><div class="col-12 col-lg-6 text-lg-left text-center mb-lg-0 mb-4"><a class="d-inline-block thumb gatr" target="_blank" rel="noopener" href="https://youtu.be/KwQDxwZRZiE" data-type="youtube" data-name="Jenkins Pipeline Environment Variables explained | #jenkinspipeline" data-time="16:43"><img class="img-fluid shadow" data-lazy="https://i3.ytimg.com/vi/KwQDxwZRZiE/mqdefault.jpg"></a></div><div class="col-12 col-lg-6"><h6 class="m-0 p-0 mb-3 sans-serif text-lg-left text-center px-lg-0 px-4"><a class="gatr" target="_blank" rel="noopener" href="https://youtu.be/KwQDxwZRZiE" data-type="youtube" data-name="Jenkins Pipeline Environment Variables explained | #jenkinspipeline">Jenkins Pipeline Environment Variables explained | #jenkinspipeline</a></h6><p class="sans-serif small text-justify">In today's video, I show you how you can work effectively with environment variables in the Jenkins pipeline as a code. You w...</p></div></div></div><div class="youtube-row mb-4"><div class="row"><div class="col-12 col-lg-6 text-lg-left text-center mb-lg-0 mb-4"><a class="d-inline-block thumb gatr" target="_blank" rel="noopener" href="https://youtu.be/Xdcg4Drg1hc" data-type="youtube" data-name="Building command-line app with Java 11, Micronaut, Picocli, and GraalVM | #micronaut" data-time="36:53"><img class="img-fluid shadow" data-lazy="https://i3.ytimg.com/vi/Xdcg4Drg1hc/mqdefault.jpg"></a></div><div class="col-12 col-lg-6"><h6 class="m-0 p-0 mb-3 sans-serif text-lg-left text-center px-lg-0 px-4"><a class="gatr" target="_blank" rel="noopener" href="https://youtu.be/Xdcg4Drg1hc" data-type="youtube" data-name="Building command-line app with Java 11, Micronaut, Picocli, and GraalVM | #micronaut">Building command-line app with Java 11, Micronaut, Picocli, and GraalVM | #micronaut</a></h6><p class="sans-serif small text-justify">In this video, I will show you how to create a standalone command-line application (CLI app) using Java 11, Micronaut, Picocl...</p></div></div></div></div></div><div class="row text-lg-left text-center"><div class="col-12 col-md-3 mb-lg-0 mb-4"><h5 class="mb-4">Useful links</h5><ul class="list-unstyled"><li><a class="gatr" href="/" data-type="footer-useful-links" data-name="Start here">Start here</a></li><li><a class="gatr" href="/about" data-type="footer-useful-links" data-name="About">About</a></li><li><a class="gatr" href="/archives" data-type="footer-useful-links" data-name="Archives">Archives</a></li><li><a class="gatr" href="/resources" data-type="footer-useful-links" data-name="Resources">Resources</a></li><li><a class="gatr" href="/privacy-policy" data-type="footer-useful-links" data-name="Privacy Policy">Privacy Policy</a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://teespring.com/stores/eprintstacktrace" data-type="footer-useful-links" data-name="Merchandise">Merchandise</a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://kit.co/wololock" data-type="footer-useful-links" data-name="My Kit">My Kit</a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://feeds.feedburner.com/Eprintstacktracenet" data-type="footer-useful-links" data-name="RSS">RSS</a></li><li><a class="gatr" href="/support-me" data-type="footer-useful-links" data-name="Support me">Support the blog <em class="fas fa-heart color-red ml-2"></em></a></li></ul></div><div class="col-12 col-md-3 mb-lg-0 mb-4"><h5 class="mb-4">Popular categories</h5><ul class="list-unstyled"><li><a class="gatr" href="/groovy-cookbook/" data-type="footer-category" data-name="Groovy Cookbook">Groovy Cookbook<span class="count ml-2">28</span></a></li><li><a class="gatr" href="/jenkins-pipeline-cookbook/" data-type="footer-category" data-name="Jenkins Pipeline Cookbook">Jenkins Pipeline Cookbook<span class="count ml-2">9</span></a></li><li><a class="gatr" href="/programmers-bookshelf/" data-type="footer-category" data-name="Programmer's Bookshelf">Programmer's Bookshelf<span class="count ml-2">6</span></a></li><li><a class="gatr" href="/micronaut-cookbook/" data-type="footer-category" data-name="Micronaut Cookbook">Micronaut Cookbook<span class="count ml-2">4</span></a></li><li><a class="gatr" href="/ratpack-cookbook/" data-type="footer-category" data-name="Ratpack Cookbook">Ratpack Cookbook<span class="count ml-2">4</span></a></li><li><a class="gatr" href="/learning-java/" data-type="footer-category" data-name="Learning Java">Learning Java<span class="count ml-2">4</span></a></li><li><a class="gatr" href="/how-to/" data-type="footer-category" data-name="How to">How to<span class="count ml-2">3</span></a></li><li><a class="gatr" href="/jq-cookbook/" data-type="footer-category" data-name="jq cookbook">jq cookbook<span class="count ml-2">2</span></a></li><li><a class="gatr" href="/blog-reports/" data-type="footer-category" data-name="Blog Reports">Blog Reports<span class="count ml-2">2</span></a></li></ul></div><div class="col-12 col-md-6"><h5 class="mb-4">Popular tags</h5><section class="tagcloud"><a href="/t/affiliate/" style="font-size:1.8em;color:#7b828b">affiliate</a> <a href="/t/async/" style="font-size:1.4em;color:#696f76">async</a> <a href="/t/benchmark/" style="font-size:1.6em;color:#727880">benchmark</a> <a href="/t/blogging/" style="font-size:1.2em;color:#60666b">blogging</a> <a href="/t/book/" style="font-size:2em;color:#848b95">book</a> <a href="/t/career/" style="font-size:1.2em;color:#60666b">career</a> <a href="/t/cicd/" style="font-size:2.4em;color:#969daa">cicd</a> <a href="/t/continuous-integration/" style="font-size:1.4em;color:#696f76">continuous-integration</a> <a href="/t/curl/" style="font-size:1.6em;color:#727880">curl</a> <a href="/t/devops/" style="font-size:2.2em;color:#8d94a0">devops</a> <a href="/t/docker/" style="font-size:1.6em;color:#727880">docker</a> <a href="/t/git/" style="font-size:1.2em;color:#60666b">git</a> <a href="/t/github/" style="font-size:1.4em;color:#696f76">github</a> <a href="/t/graalvm/" style="font-size:2.4em;color:#969daa">graalvm</a> <a href="/t/gradle/" style="font-size:1.2em;color:#60666b">gradle</a> <a href="/t/grails/" style="font-size:1.4em;color:#696f76">grails</a> <a href="/t/groovy/" style="font-size:3em;color:#b1b9ca">groovy</a> <a href="/t/haskell/" style="font-size:1.4em;color:#696f76">haskell</a> <a href="/t/hexo/" style="font-size:1.2em;color:#60666b">hexo</a> <a href="/t/java/" style="font-size:2.8em;color:#a8b0bf">java</a> <a href="/t/java-8/" style="font-size:1.4em;color:#696f76">java-8</a> <a href="/t/jenkins/" style="font-size:2.6em;color:#9fa7b5">jenkins</a> <a href="/t/jenkins-pipeline/" style="font-size:2.6em;color:#9fa7b5">jenkins-pipeline</a> <a href="/t/jenkinsfile/" style="font-size:1.4em;color:#696f76">jenkinsfile</a> <a href="/t/jmh/" style="font-size:1.8em;color:#7b828b">jmh</a> <a href="/t/jq/" style="font-size:1.4em;color:#696f76">jq</a> <a href="/t/json/" style="font-size:1.4em;color:#696f76">json</a> <a href="/t/junit/" style="font-size:1.4em;color:#696f76">junit</a> <a href="/t/learning/" style="font-size:1.6em;color:#727880">learning</a> <a href="/t/maven/" style="font-size:1.4em;color:#696f76">maven</a> <a href="/t/metaprogramming/" style="font-size:1.2em;color:#60666b">metaprogramming</a> <a href="/t/micronaut/" style="font-size:2em;color:#848b95">micronaut</a> <a href="/t/native-image/" style="font-size:1.8em;color:#7b828b">native-image</a> <a href="/t/non-blocking/" style="font-size:1.6em;color:#727880">non-blocking</a> <a href="/t/progress/" style="font-size:1.2em;color:#60666b">progress</a> <a href="/t/ratpack/" style="font-size:2.4em;color:#969daa">ratpack</a> <a href="/t/reactive-programming/" style="font-size:1.4em;color:#696f76">reactive-programming</a> <a href="/t/reading/" style="font-size:1.4em;color:#696f76">reading</a> <a href="/t/recursion/" style="font-size:1.4em;color:#696f76">recursion</a> <a href="/t/review/" style="font-size:2em;color:#848b95">review</a> <a href="/t/rxjava/" style="font-size:1.4em;color:#696f76">rxjava</a> <a href="/t/sdkman/" style="font-size:1.6em;color:#727880">sdkman</a> <a href="/t/session/" style="font-size:1.2em;color:#60666b">session</a> <a href="/t/split/" style="font-size:1.2em;color:#60666b">split</a> <a href="/t/spock/" style="font-size:1.6em;color:#727880">spock</a> <a href="/t/stackoverflow/" style="font-size:1.4em;color:#696f76">stackoverflow</a> <a href="/t/string/" style="font-size:1.4em;color:#696f76">string</a> <a href="/t/tail-call/" style="font-size:1.2em;color:#60666b">tail-call</a> <a href="/t/tail-recursion/" style="font-size:1.2em;color:#60666b">tail-recursion</a> <a href="/t/unit-test/" style="font-size:1.6em;color:#727880">unit-test</a></section></div></div></div></div><section class="bottom"><div class="container"><ul class="text-center py-1 m-0"><li class="d-inline-block">Designed by <a class="gatr" target="_blank" rel="noopener" href="https://twitter.com/wololock" data-type="footer" data-name="designed">@wololock</a></li><li class="d-inline-block">Created with <a class="gatr" target="_blank" rel="noopener" href="https://hexo.io" data-type="footer" data-name="hexo">Hexo</a></li><li class="d-inline-block">Hosted on <a class="gatr" target="_blank" rel="noopener" href="https://github.com/wololock/wololock.github.io" data-type="footer" data-name="github">GitHub</a></li><li class="d-inline-block">Deployed with <a class="gatr" target="_blank" rel="noopener" href="https://circleci.com/gh/wololock/wololock.github.io" data-type="footer" data-name="circleci">Circle CI</a></li><li class="d-inline-block">License <a class="gatr" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" data-type="footer" data-name="license">CC BY-NC-SA 4.0</a></li><li class="d-inline-block"><a class="gatr" target="_blank" rel="noopener" href="https://github.com/wololock/wololock.github.io/commits/develop" data-type="footer" data-name="last-commit"><img data-lazy="https://badgen.net/github/last-commit/wololock/wololock.github.io?color=blue&amp;scale=0.8"></a></li></ul></div></section></footer><script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/48c5da59c9.js" crossorigin="anonymous" async></script><script async id="cookiebanner" src="//cdnjs.cloudflare.com/ajax/libs/cookie-banner/1.2.2/cookiebanner.min.js" data-moreinfo="/privacy-policy/" data-message="This blog uses cookies to enhance your experience. By continuing to visit it you agree to its use of cookies." data-link="#5fc4ff" data-font-family="Lora,serif" data-font-size="16px" data-bg="#1d2b36"></script><script src="/js/main.js?v=10"></script><script src="/js/highlightjs/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad()</script><script async id="dsq-count-scr" src="//eprintstacktrace.disqus.com/count.js"></script><script>!function(e,a,t,n,c,r,o){e.GoogleAnalyticsObject=c,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,r=a.createElement(t),o=a.getElementsByTagName(t)[0],r.async=1,r.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(r,o)}(window,document,"script",0,"ga"),ga("create","UA-42400890-5","auto"),ga("send","pageview"),jQuery(document).on("click","a.gatr",function(){var e=jQuery(this),a=e.attr("data-type"),t=e.attr("data-name");return ga("send","event",a,"click",t),!0}),jQuery(document).on("click","#related a",function(){var e=jQuery(this);return ga("send","event","related","click",e.attr("href")),!0})</script><script>!function(){"use strict";function r(e){var t=e.getAttribute("data-original"),n=new Image;n.onload=function(){e.setAttribute("src",t),e.style.paddingTop=""},n.src=t}document.addEventListener("DOMContentLoaded",function(){var t,e,n,i=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));i.length&&("undefined"!=typeof IntersectionObserver?(t=new IntersectionObserver(function(e,t){e.filter(function(e){return e.isIntersecting}).forEach(function(e){r(e.target),t.unobserve(e.target)})}),i.forEach(function(e){t.observe(e)})):(n=function(){clearTimeout(e),e=setTimeout(function(){return(i=i.filter(function(e){return!e.src})).length?void i.filter(function(e){e.getBoundingClientRect().top<window.innerHeight&&r(e)}):(window.removeEventListener("scroll",n),void window.removeEventListener("resize",n))},100)},window.addEventListener("scroll",n),window.addEventListener("resize",n),n()))},!1)}();</script></body></html>