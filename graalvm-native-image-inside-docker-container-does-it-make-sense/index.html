<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="robots" content="all"><meta name="ir-site-verification-token" value="626123791"><title>GraalVM native image inside docker container - does it make sense?</title><meta name="keywords" content="java,groovy,graalvm,docker,grape,native-image"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="dns-prefetch" href="//stackpath.bootstrapcdn.com"><link rel="shortcut icon" type="image/png" href="/favicon_new.png"><link rel="canonical" href="https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:wght@400;500;700|Poppins:300,400,400i,700|Montserrat:400,600,700|Roboto:300,400,400i,700|Lora:400,400i,700,700i&amp;display=swap"><link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"><link rel="stylesheet" href="/css/main.css?v=71"><link rel="stylesheet" href="/css/highlight.css?v=71"><meta name="description" content="We have learned how to create GraalVM native image from standalone Groovy script in the previous blog post. Today we continue the experiments, and this time we are going to create a Docker image to s"><meta property="og:type" content="article"><meta property="og:title" content="GraalVM native image inside docker container - does it make sense?"><meta property="og:url" content="https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/"><meta property="og:site_name" content="e.printstacktrace.blog - I help you become a better software developer."><meta property="og:description" content="We have learned how to create GraalVM native image from standalone Groovy script in the previous blog post. Today we continue the experiments, and this time we are going to create a Docker image to s"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://e.printstacktrace.blog/images/cards/32.png"><meta property="article:published_time" content="2019-01-19T12:19:22.000Z"><meta property="article:modified_time" content="2019-11-05T20:57:46.000Z"><meta property="article:author" content="Szymon Stepniak"><meta property="article:tag" content="java"><meta property="article:tag" content="groovy"><meta property="article:tag" content="graalvm"><meta property="article:tag" content="docker"><meta property="article:tag" content="grape"><meta property="article:tag" content="native-image"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://e.printstacktrace.blog/images/cards/32.png"><meta name="twitter:creator" content="@wololock"><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"https://e.printstacktrace.blog/#/schema/person/wololock","name":"Szymon Stepniak","description":"I help you become a better software developer.","image":{"@type":"ImageObject","@id":"https://e.printstacktrace.blog/#avatar","inLanguage":"en-US","url":"https://www.gravatar.com/avatar/b22c1842c6e8f7f2b9b3ed8c0d4efb4d?s=200","caption":"Szymon Stepniak"},"logo":{"@id":"https://e.printstacktrace.blog/#avatar"},"sameAs":["https://twitter.com/wololock","https://github.com/wololock","https://stackoverflow.com/users/2194470/szymon-stepniak","https://www.youtube.com/c/eprintstacktrace"]},{"@type":"WebSite","@id":"https://e.printstacktrace.blog/#website","url":"https://e.printstacktrace.blog","name":"e.printstacktrace.blog - I help you become a better software developer.","description":"Blog about programming, created by Upwork's Top Rated freelancer, 10+ years experienced Java/Groovy developer. Contact me if you are looking for an experienced and high quality consultant."},{"@type":"WebPage","@id":"https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/#webpage","url":"https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/","name":"GraalVM native image inside docker container - does it make sense?","isPartOf":{"@id":"https://e.printstacktrace.blog/#website"},"datePublished":"2019-01-19T12:19:22.000Z","dateModified":"2019-11-05T20:57:46.000Z","description":"\nWe have learned how to create GraalVM native image from standalone Groovy script\nin the previous blog post.\nToday we continue the experiments, and this time we are going to create a Docker image to see what are\nthe benefits and drawbacks of this solution.\n","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/"]}]},{"@type":"Article","@id":"https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/#article","isPartOf":{"@id":"https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/#webpage"},"author":{"@id":"https://e.printstacktrace.blog/#/schema/person/wololock"},"headline":"GraalVM native image inside docker container - does it make sense?","datePublished":"2019-01-19T12:19:22.000Z","dateModified":"2019-11-05T20:57:46.000Z","mainEntityOfPage":{"@id":"https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/#webpage"},"publisher":{"@id":"https://e.printstacktrace.blog/#/schema/person/wololock"},"keywords":"java,groovy,graalvm,docker,grape,native-image","image":{"@type":"ImageObject","@id":"https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/#primaryimage","url":"https://e.printstacktrace.blog/images/cards/32.png","inLanguage":"en-US","caption":"GraalVM native image inside docker container - does it make sense?"},"inLanguage":"en-US"},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://e.printstacktrace.blog"},{"@type":"ListItem","position":2,"name":"Groovy Cookbook","item":"https://e.printstacktrace.blog/groovy-cookbook/"},{"@type":"ListItem","position":3,"name":"GraalVM native image inside docker container - does it make sense?"}]}]}</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="e.printstacktrace.blog - I help you become a better software developer." type="application/atom+xml">
<style>.img-lazyload-container{overflow:hidden;max-width:100%}.img-lazyload-container img{max-width:100%;display:block;height:auto;transition:opacity .5s ease-in-out}.img-lazyload-container img:not([src]){height:0;opacity:0}</style></head><body><header class="fixed-top" id="header"><div class="container"><nav class="navbar navbar-light mx-0 px-0 justify-content-start"><a class="gatr" href="/" data-type="nav" data-name="Home">Home</a><a class="gatr" href="/about" data-type="nav" data-name="About">About</a><a class="gatr" href="/archives" data-type="nav" data-name="Archives">Archives</a><a class="gatr" href="/resources" data-type="nav" data-name="Tools &amp; Resources">Tools & Resources</a><a class="gatr" href="/support-me" data-type="nav" data-name="Support me">Support me</a></nav></div></header><main id="main"><section class="sidebar-enabled" id="content"><div class="container"><div class="row"><div class="col-lg-3 bg-primary sidebar pt-5 d-flex align-items-start flex-column order-1 pr-lg-0"><div class="mb-auto"><div class="text-center pt-lg-5 pl-3"><a href="/about"><img class="rounded-circle mb-4" src="https://www.gravatar.com/avatar/b22c1842c6e8f7f2b9b3ed8c0d4efb4d?s=200" height="96"></a><h5>Hi! üëã I'm Szymon</h5><p class="small">I help you become a better software developer.</p></div><div class="my-4 pl-2 text-lg-right text-center"><ul class="social-media"><li><a class="gatr" target="_blank" rel="noopener" href="https://twitter.com/wololock" data-type="social-media" data-name="Twitter" title="Twitter"><i class="fa fa-twitter"></i><span class="number">1.13k</span><span class="description">Followers</span></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://www.youtube.com/eprintstacktrace" data-type="social-media" data-name="YouTube" title="YouTube"><i class="fa fa-youtube"></i><span class="number">2.08k</span><span class="description">Subscribers</span></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://github.com/wololock" data-type="social-media" data-name="Github" title="Github"><i class="fa fa-github"></i><span class="number">103</span><span class="description">Followers</span></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://stackoverflow.com/users/2194470/szymon-stepniak" data-type="social-media" data-name="StackOverflow" title="StackOverflow"><i class="fa fa-stack-overflow"></i><span class="number">29.6k</span><span class="description">Reputation</span></a></li></ul></div><div class="pl-4 mt-lg-5 pt-lg-2"><h4 class="h4 pt-4 mb-4 sans-serif">Latest posts from the <span class="h3 font-weight-bold">Groovy Cookbook</span></h4><div class="media align-items-center pb-1 mb-3"><a class="d-block gatr" href="/groovy-ecosystem-usage-report-2020/" data-type="latest-sidebar" data-name="Groovy Ecosystem Usage Report (2020)"><img class="rounded" src="/images/icons/3.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif gatr" href="/groovy-ecosystem-usage-report-2020/" data-type="latest-sidebar" data-name="Groovy Ecosystem Usage Report (2020)">Groovy Ecosystem Usage Report (2020)</a></h5></div></div><div class="media align-items-center pb-1 mb-3"><a class="d-block gatr" href="/how-to-merge-two-maps-in-groovy/" data-type="latest-sidebar" data-name="How to merge two maps in Groovy?"><img class="rounded" src="/images/icons/28.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif gatr" href="/how-to-merge-two-maps-in-groovy/" data-type="latest-sidebar" data-name="How to merge two maps in Groovy?">How to merge two maps in Groovy?</a></h5></div></div><div class="media align-items-center pb-1 mb-3"><a class="d-block gatr" href="/groovy-dynamic-maps-generic-type-erasure-and-raw-types/" data-type="latest-sidebar" data-name="Groovy dynamic Maps, generic type erasure, and raw types - an interesting use case to learn from"><img class="rounded" src="/images/icons/15.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif gatr" href="/groovy-dynamic-maps-generic-type-erasure-and-raw-types/" data-type="latest-sidebar" data-name="Groovy dynamic Maps, generic type erasure, and raw types - an interesting use case to learn from">Groovy dynamic Maps, generic type erasure, and raw types - an...</a></h5></div></div><div class="media align-items-center pb-1 mb-3"><a class="d-block gatr" href="/groovy-3-nullcheck-annotation-less-code-and-less-npe/" data-type="latest-sidebar" data-name="Groovy 3 @NullCheck annotation - less code and less NPE"><img class="rounded" src="/images/icons/6.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif gatr" href="/groovy-3-nullcheck-annotation-less-code-and-less-npe/" data-type="latest-sidebar" data-name="Groovy 3 @NullCheck annotation - less code and less NPE">Groovy 3 @NullCheck annotation - less code and less NPE</a></h5></div></div><div class="media align-items-center pb-1 mb-3"><a class="d-block gatr" href="/groovy-3-string-gdk-improvements-takeright-takebetween-and-a-few-others/" data-type="latest-sidebar" data-name="Groovy 3 String GDK improvements - takeRight, takeBetween, and a few others"><img class="rounded" src="/images/icons/12.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif gatr" href="/groovy-3-string-gdk-improvements-takeright-takebetween-and-a-few-others/" data-type="latest-sidebar" data-name="Groovy 3 String GDK improvements - takeRight, takeBetween, and a few others">Groovy 3 String GDK improvements - takeRight, takeBetween, an...</a></h5></div></div><div class="media align-items-center pb-1 mb-3"><a class="d-block gatr" href="/groovy-string-methods-that-will-make-your-life-groovier/" data-type="latest-sidebar" data-name="Three Groovy String methods that will make your life Groovier!"><img class="rounded" src="/images/icons/6.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif gatr" href="/groovy-string-methods-that-will-make-your-life-groovier/" data-type="latest-sidebar" data-name="Three Groovy String methods that will make your life Groovier!">Three Groovy String methods that will make your life Groovier!</a></h5></div></div><div class="media align-items-center pb-1 mb-3"><a class="d-block gatr" href="/quicksort-in-groovy-can-it-be-as-fast-as-implemented-in-java/" data-type="latest-sidebar" data-name="Quicksort in Groovy - can it be as fast as implemented in Java?"><img class="rounded" src="/images/icons/41.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif gatr" href="/quicksort-in-groovy-can-it-be-as-fast-as-implemented-in-java/" data-type="latest-sidebar" data-name="Quicksort in Groovy - can it be as fast as implemented in Java?">Quicksort in Groovy - can it be as fast as implemented in Java?</a></h5></div></div><div class="text-center"><a class="view-all" href="/groovy-cookbook/" data-type="latest-sidebar" data-name="More &amp;raquo;"><span class="d-block m-0">More</span><i class="fas fa-chevron-down d-block m-0"></i></a></div></div><div class="pl-4 mt-5"><h4 class="mb-3">Popular categories</h4><ul class="list-unstyled"><li class="my-1"><a class="gatr" href="/groovy-cookbook/" data-type="sidebar-category" data-name="Groovy Cookbook">Groovy Cookbook<span class="count ml-2 mark">28</span></a></li><li class="my-1"><a class="gatr" href="/jenkins-pipeline-cookbook/" data-type="sidebar-category" data-name="Jenkins Pipeline Cookbook">Jenkins Pipeline Cookbook<span class="count ml-2 mark">9</span></a></li><li class="my-1"><a class="gatr" href="/programmers-bookshelf/" data-type="sidebar-category" data-name="Programmer's Bookshelf">Programmer's Bookshelf<span class="count ml-2 mark">6</span></a></li><li class="my-1"><a class="gatr" href="/micronaut-cookbook/" data-type="sidebar-category" data-name="Micronaut Cookbook">Micronaut Cookbook<span class="count ml-2 mark">4</span></a></li><li class="my-1"><a class="gatr" href="/ratpack-cookbook/" data-type="sidebar-category" data-name="Ratpack Cookbook">Ratpack Cookbook<span class="count ml-2 mark">4</span></a></li><li class="my-1"><a class="gatr" href="/learning-java/" data-type="sidebar-category" data-name="Learning Java">Learning Java<span class="count ml-2 mark">4</span></a></li><li class="my-1"><a class="gatr" href="/jq-cookbook/" data-type="sidebar-category" data-name="jq cookbook">jq cookbook<span class="count ml-2 mark">3</span></a></li><li class="my-1"><a class="gatr" href="/how-to/" data-type="sidebar-category" data-name="How to">How to<span class="count ml-2 mark">3</span></a></li><li class="my-1"><a class="gatr" href="/blog-reports/" data-type="sidebar-category" data-name="Blog Reports">Blog Reports<span class="count ml-2 mark">2</span></a></li></ul></div><div class="text-center"><div class="d-none d-lg-inline-block mb-5 pt-5"><a class="gatr" href="https://amzn.to/35QTnYE" data-type="banner" data-name="audible-premium-02" target="_blank"><img class="img-fluid" data-lazy="/images/yml/audible-02.png"></a></div><div class="d-inline-block d-lg-none py-3"><a class="gatr" href="https://www.jdoqocy.com/click-100191173-14085090" data-type="banner" data-name="domain10-01" target="_blank"><img class="img-fluid" data-lazy="/images/yml/domain10-01.png"></a></div></div></div><div class="spread-the-love pt-4 mt-lg-5"><div class="mb-lg-5 pb-5 pl-lg-4"><h3 class="mb-3">Don't miss anything - join my newsletter</h3><p class="text-justify">Additional materials and updates for subscribers. <b>No spam guaranteed</b>.<br>Unsubscribe at any time.</p><div id="ck-5bc70426c4-box"></div><script>function load_newsletter(e){var t=document.getElementById("ck-5bc70426c4-box");if(document.contains(t)){var n=t.parentElement;t.remove();var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://tremendous-motivator-1432.ck.page/"+e+"/index.js",o.setAttribute("data-uid",e),n.appendChild(o),console.log("Convertkit "+e+" loaded.")}}window.addEventListener("scroll",function(e){var t=document.scrollingElement.scrollTop,n=document.getElementById("ck-5bc70426c4-box");document.contains(n)&&t>n.getBoundingClientRect().top- -500&&load_newsletter("5bc70426c4")})</script></div><div class="pl-lg-3 text-lg-left text-center"><p class="m-0 serif">Did you like this article?</p><h5 class="text-uppercase">Spread the <i class="fa fa-heart"></i>!</h5><ul class="mb-5"><li><a class="gatr" target="_blank" rel="noopener" href="https://twitter.com/intent/tweet?text=GraalVM native image inside docker container - does it make sense? https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/ via @wololock" data-type="share" data-name="Shared on Twitter"><i class="fa fa-twitter"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://www.linkedin.com/shareArticle?url=https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/" data-type="share" data-name="Shared on LinkedIn"><i class="fa fa-linkedin"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://www.facebook.com/sharer.php?u=https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/" data-type="share" data-name="Shared on Facebook"><i class="fa fa-facebook-square"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="http://www.reddit.com/submit?url=https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/&amp;title=GraalVM native image inside docker container - does it make sense?" data-type="share" data-name="Shared on Reddit"><i class="fa fa-reddit"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/button/?url=https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/&amp;media=https://e.printstacktrace.blog/images/cards/32.png&amp;description=GraalVM native image inside docker container - does it make sense?" data-type="share" data-name="Shared on Pinterest"><i class="fa fa-pinterest"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://ko-fi.com/eprintstacktrace" data-type="share" data-name="Clicked on Ko-Fi">‚òïÔ∏è</a></li></ul></div></div></div><div class="col-lg-9 py-5 order-0"><div class="pr-lg-4 px-1 pt-lg-5"><nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a class="gatr" href="/" data-type="breadcrumb" data-name="/">e.printstacktrace.blog</a></li><li class="breadcrumb-item"><a class="gatr" href="/groovy-cookbook/" data-type="breadcrumb" data-name="Groovy Cookbook">Groovy Cookbook</a></li></ol></nav><article class="post-body"><h1>GraalVM native image inside docker container - does it make sense?</h1><div class="post-meta mb-4"><ul><li><time datetime="2019-01-19T12:19:22.000Z">January 19, 2019</time></li><li>6 min. read</li><li><a href="https://e.printstacktrace.blog/graalvm-native-image-inside-docker-container-does-it-make-sense/#disqus_thread">0 Comments</a></li></ul></div><div class="content"><div class="paragraph"><p>We have learned how to create <a target="_blank" rel="noopener" href="https://www.graalvm.org/">GraalVM</a> native image from standalone Groovy script <a href="/graalvm-groovy-grape-creating-native-image-of-standalone-script/" title="in the previous blog post">in the previous blog post</a>. Today we continue the experiments, and this time we are going to create a <a target="_blank" rel="noopener" href="https://www.docker.com/why-docker">Docker</a> image to see what are the benefits and drawbacks of this solution.</p></div><a id="more"></a><div class="sect1"><h2 id="introduction">Introduction</h2><div class="sectionbody"><div class="paragraph"><p>In the previous blog post, we have created a standalone Groovy script that uses Jsoup library as a dependency. This script connects to the given URL and counts how many links the specified website contains. We saw a significant improvement in execution time - from <strong>1.7 s</strong> (using Groovy command line processor) to <strong>0.2 s</strong> (using GraalVM native image). However, building the final native image required installing GraalVM on our local system. Also, we may need to compile OS-specific executable every time we want to run the program on a different platform or operating system. This is where we start thinking about containerization, and today we are going to dockerize a Groovy script to play around with it.</p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">This blog post originally described using GraalVM <code>1.0.0-RC11</code>. You are reading updated version that was tested to work with GraalVM <code>19.2.1</code>.</td></tr></table></div></div></div><div class="sect1"><h2 id="dockerfile">Dockerfile</h2><div class="sectionbody"><div class="paragraph"><p>Let&#8217;s start with defining a Dockerfile<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>. We use official <a target="_blank" rel="noopener" href="https://github.com/oracle/docker-images/blob/master/GraalVM/CE/19/Dockerfile">GraalVM docker base image</a>. Inside the image, we install SDKMAN! and Groovy 2.5.8, then we compile the script and create a native executable with GraalVM. Finally, we create an entry point which exposes executable and accepts parameters.</p></div><div class="listingblock"><div class="title">Listing 1. Dockerfile</div><div class="content"><pre class="highlightjs highlight"><code data-lang="dockerfile" class="language-dockerfile hljs">FROM oracle/graalvm-ce:19.2.1 <i class="conum" data-value="1"></i><b>(1)</b>

ADD . /app/ <i class="conum" data-value="2"></i><b>(2)</b>

ENV GROOVY_VERSION="2.5.8"
ENV GROOVY_HOME=/root/.sdkman/candidates/groovy/$GROOVY_VERSION <i class="conum" data-value="3"></i><b>(3)</b>

RUN yum install -y zip unzip <i class="conum" data-value="4"></i><b>(4)</b>
RUN gu install native-image <i class="conum" data-value="5"></i><b>(5)</b>
RUN curl -s "https://get.sdkman.io" | bash <i class="conum" data-value="6"></i><b>(6)</b>
RUN bash -c "source $HOME/.sdkman/bin/sdkman-init.sh &amp;&amp; \ <i class="conum" data-value="7"></i><b>(7)</b>
    echo \"sdkman_auto_answer=true\" &gt; $SDKMAN_DIR/etc/config &amp;&amp; \ <i class="conum" data-value="8"></i><b>(8)</b>
    sdk install groovy $GROOVY_VERSION &amp;&amp; \ <i class="conum" data-value="9"></i><b>(9)</b>
    groovy -version &amp;&amp; \
    cd /app/ &amp;&amp; \
    sh ./compile-native-image.sh"

ENTRYPOINT bash -c "cd /app &amp;&amp; ./countlinks.sh $0"</code></pre></div></div><div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>The official Oracle GraalVM 19.2.1 base image.</td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td>We copy all files from current directory to <code>/app</code> directory inside the image/</td></tr><tr><td><i class="conum" data-value="3"></i><b>3</b></td><td>We set up required <code>GROOVY_HOME</code> env variable.</td></tr><tr><td><i class="conum" data-value="4"></i><b>4</b></td><td>We install <code>zip</code> and <code>unzip</code> (required by SDKMAN!)</td></tr><tr><td><i class="conum" data-value="5"></i><b>5</b></td><td>We install <code>native-image</code> using GraalVM Updater.</td></tr><tr><td><i class="conum" data-value="6"></i><b>6</b></td><td>We install SDKMAN!</td></tr><tr><td><i class="conum" data-value="7"></i><b>7</b></td><td>We init SDKMAN! after successful installation</td></tr><tr><td><i class="conum" data-value="8"></i><b>8</b></td><td>We set auto answer to <code>true</code> so SDKMAN! does not ask as if we want to install Groovy</td></tr><tr><td><i class="conum" data-value="9"></i><b>9</b></td><td>We install Groovy 2.5.8</td></tr></table></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">All files used in this blog post can be found in <a target="_blank" rel="noopener" href="https://github.com/wololock/graalvm-groovy-examples/tree/master/grape-script-example">wololock/graalvm-groovy-examples</a> Git repository.</td></tr></table></div></div></div><div class="sect1"><h2 id="building-the-docker-image">Building the Docker image</h2><div class="sectionbody"><div class="paragraph"><p>It&#8217;s time to build the Docker image.</p></div><div class="listingblock"><div class="title">Listing 2. Building Docker image with <code>countlinks</code> tag</div><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker build -t countlinks .</code></pre></div></div><script id="asciicast-222451" src="https://asciinema.org/a/222451.js" async></script><div class="paragraph"><p>After approximately 3-4 minutes our Docker image is created and ready to use. You can find it with <code>docker images</code> command. Keep in mind that the created image is almost 2.2 GB because our base Docker image is based on Oracle Linux official docker image.</p></div></div></div><div class="sect1"><h2 id="running-the-container">Running the container</h2><div class="sectionbody"><div class="paragraph"><p>Let&#8217;s run our program inside the container.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">time docker run --rm --read-only countlinks https://e.printstacktrace.blog <i class="conum" data-value="1"></i><b>(1)</b>
Website https://e.printstacktrace.blog contains 96 links.

real	0m0,810s <i class="conum" data-value="2"></i><b>(2)</b>
user	0m0,027s
sys	0m0,021s</code></pre></div></div><div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td><code>--rm</code> option removes the container when it exists, <code>--read-only</code> mounts the file system with the read-only mode (we don&#8217;t need write permission in this case)</td></tr></table></div><div class="paragraph"><p>The first thing we notice is that the execution time increased from <strong>0.2 s</strong> to somewhere around <strong>0.8 s</strong>. It means that our program executed as a Docker container runs 4 times slower. Why?</p></div><div class="paragraph"><p>The thing is that creating and starting a new container comes with a cost. It takes around <strong>600 ms</strong> on my computer. For instance, if I run <code>echo</code> command inside the newly created Alpine container (4 MB image), it takes almost 600 ms to complete.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">time docker run --rm --read-only --entrypoint "echo" alpine

real	0m0,631s
user	0m0,030s
sys	0m0,024s</code></pre></div></div></div></div><div class="sect1"><h2 id="executing-command-inside-a-running-container">Executing command inside a running container</h2><div class="sectionbody"><div class="paragraph"><p>There is an alternative approach, however. Instead of creating and starting a new container each time we want to run a program, we can start a container, keep it running and attach and execute a command when needed. Let&#8217;s give it a try. Firstly, we run a container that executes <code>tail -f /var/log/yum.log</code> command to keep it running. We need to override entry point to do so and add <code>-d</code> option to detach from the container. We also use <code>--name</code> parameter to specify the name of this container so that we can use it instead of container ID. Next, we use <code>docker exec</code> to execute another command inside the running container.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker run -d --name countlinks --rm --read-only --entrypoint "tail" countlinks -f /var/log/yum.log
b75eef8c3a3aa696d87e284fc59600261baaf126c1fd2efc196f4df5ff9a4ee0 <i class="conum" data-value="1"></i><b>(1)</b>

time docker exec countlinks cd /app &amp;&amp; time ./countlinks.sh https://e.printstacktrace.blog

real	0m0,100s <i class="conum" data-value="2"></i><b>(2)</b>
user	0m0,024s
sys	0m0,014s
Website https://e.printstacktrace.blog contains 96 links.

real	0m0,209s <i class="conum" data-value="3"></i><b>(3)</b>
user	0m0,021s
sys	0m0,008s</code></pre></div></div><div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>Container ID returned when detaching from the container.</td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td>Time consumed by attaching <code>docker exec</code> to the running container</td></tr><tr><td><i class="conum" data-value="3"></i><b>3</b></td><td>Time consumed by running the command inside the container</td></tr></table></div><div class="paragraph"><p>In this case, we use <code>time</code> command twice. The first one counts the time of attaching to the running container, while the second one counts the time of the inner command execution. We see that it produces a much better result - attaching to the container takes around 110 ms. So the total execution time takes approximately <strong>300 ms average</strong>. It is still slower comparing to the result we get when running native executable outside the container, but in most cases, 110 ms is an acceptable cost.</p></div></div></div><div class="sect1"><h2 id="conclusion">Conclusion</h2><div class="sectionbody"><div class="paragraph"><p>So is it worth dockerizing GraalVM native images? It depends. If our goal is to produce an executable that completes in a blink of an eye, and where every millisecond counts - running the command inside a container won&#8217;t be the best choice. However, if this is not our case, we can benefit from dockerizing the native image. It allows us building the executable without having GraalVM or Groovy installed on the computer - it only requires Docker on board. It also makes the distribution of the executable easier - the image once created and pushed to the repository can be reused easily.</p></div><div class="paragraph"><p>And last but not least - dockerizing native executable means that we benefit from ahead-of-time compilation and much lower memory footprint. However, we always have to be careful when it comes to running any Java program inside the container - things like available resources (CPU, memory), secure access or networking may cause some issues. You just have to consider all pros and cons when choosing one option over another.</p></div></div></div><div id="footnotes"><hr><div class="footnote" id="_footnotedef_1"><a href="#_footnoteref_1">1</a>. <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/builder/" class="bare">https://docs.docker.com/engine/reference/builder/</a></div></div></div><ul class="tags-list mt-4"><li><a href="/t/java/">java</a></li><li><a href="/t/groovy/">groovy</a></li><li><a href="/t/graalvm/">graalvm</a></li><li><a href="/t/docker/">docker</a></li><li><a href="/t/grape/">grape</a></li><li><a href="/t/native-image/">native-image</a></li></ul></article></div></div></div></div></section><section class="bg-dark posts-layout-01" id="related" data-debug="Scrolled to related posts"><div class="container py-5"><div class="row py-lg-5"><div class="col-12 col-lg-7 d-flex align-items-start mb-lg-0 mb-4"><div class="px-3 px-lg-0 pr-lg-5"><article><a href="/ratpack-graalvm-how-to-start/"><img class="mb-4 shadow" data-lazy="/images/cards/19.png" width="100%"></a><p class="subtitle m-0"><a href="/ratpack-cookbook/">Ratpack Cookbook</a></p><h3 class="m-0 serif"><a href="/ratpack-graalvm-how-to-start/">Ratpack on GraalVM - how to start?</a></h3><div class="post-meta mb-4"><ul><li><time datetime="2019-02-15T02:10:39.000Z">February 15, 2019</time></li><li>6 min. read</li><li><a href="https://e.printstacktrace.blog/ratpack-graalvm-how-to-start/#disqus_thread">0 Comments</a></li></ul></div><p class="small">The journey inside the exciting world of GraalVM continues. Today I would like to share with you results of running Ratpack on GraalVM experiment. You are going to learn how to build a native binary of a simple "Hello, World!" Ratpack application. In the end we are going to run some benchmarks to see if running GraalVM executable produces better results than running JAR on a regular Oracle JDK.</p></article></div></div><div class="col-12 col-lg-5"><div class="px-3 px-lg-0"><article class="tile"><div class="row mb-4"><div class="col-9"><p class="subtitle m-0"><a href="/groovy-cookbook/">Groovy Cookbook</a></p><h4 class="m-0 serif"><a href="/graalvm-and-groovy-how-to-start/">GraalVM and Groovy - how to start?</a></h4><div class="post-meta mb-4"><ul><li><time datetime="2018-10-03T21:28:49.000Z">October 3, 2018</time></li><li>6 min. read</li><li><a href="https://e.printstacktrace.blog/graalvm-and-groovy-how-to-start/#disqus_thread">0 Comments</a></li></ul></div><p class="small">GraalVM became one of the most popular topics in the JVM ecosystem. It promises the highest poss...</p></div><div class="col-3"><a href="/graalvm-and-groovy-how-to-start/"><img class="img-fluid rounded shadow-sm mt-3 mb-lg-0" data-lazy="/images/icons/24.png"></a></div></div></article><article class="tile"><div class="row mb-4"><div class="col-9"><p class="subtitle m-0"><a href="/groovy-cookbook/">Groovy Cookbook</a></p><h4 class="m-0 serif"><a href="/graalvm-groovy-grape-creating-native-image-of-standalone-script/">GraalVM with Groovy and Grape - creating native image of a standalone script</a></h4><div class="post-meta mb-4"><ul><li><time datetime="2019-01-16T14:14:42.000Z">January 16, 2019</time></li><li>6 min. read</li><li><a href="https://e.printstacktrace.blog/graalvm-groovy-grape-creating-native-image-of-standalone-script/#disqus_thread">0 Comments</a></li></ul></div><p class="small">The Apache Groovy programming language has extraordinary scripting capabilities. When you combin...</p></div><div class="col-3"><a href="/graalvm-groovy-grape-creating-native-image-of-standalone-script/"><img class="img-fluid rounded shadow-sm mt-3 mb-lg-0" data-lazy="/images/icons/24.png"></a></div></div></article><article class="tile"><div class="row mb-4"><div class="col-9"><p class="subtitle m-0"><a href="/jenkins-pipeline-cookbook/">Jenkins Pipeline Cookbook</a></p><h4 class="m-0 serif"><a href="/building-java-and-maven-docker-images-using-parallelized-jenkins-pipeline-and-sdkman/">Building Java and Maven docker images using parallelized Jenkins Pipeline and SDKMAN!</a></h4><div class="post-meta mb-4"><ul><li><time datetime="2019-11-11T21:28:10.000Z">November 11, 2019</time></li><li>6 min. read</li><li><a href="https://e.printstacktrace.blog/building-java-and-maven-docker-images-using-parallelized-jenkins-pipeline-and-sdkman/#disqus_thread">0 Comments</a></li></ul></div><p class="small">In the last article, I have shown you how you can build a docker image for Jenkins Pipeline usin...</p></div><div class="col-3"><a href="/building-java-and-maven-docker-images-using-parallelized-jenkins-pipeline-and-sdkman/"><img class="img-fluid rounded shadow-sm mt-3 mb-lg-0" data-lazy="/images/icons/19.png"></a></div></div></article><a class="gatr" href="https://click.linksynergy.com/fs-bin/click?id=uow2LCEuhvQ&amp;offerid=572706.11&amp;type=3&amp;subid=0" data-type="banner" data-name="nordvpn-03" target="_blank"><img class="img-fluid" data-lazy="/images/yml/nord-vpn-03.png"></a></div></div></div></div></section><section class="sidebar-enabled" id="comments" data-debug="Scrolled to comments"><div class="container"><div class="row"><div class="col-12 col-lg-3 sidebar order-lg-1 order-0"><div class="py-lg-5 py-3 position-sticky text-center" style="top:20px"><div class="d-inline-block d-lg-none"><a class="gatr" href="https://www.jdoqocy.com/click-100191173-10952823" data-type="banner" data-name="grammarly-02" target="_blank"><img class="img-fluid" data-lazy="/images/yml/grammarly-02.png"></a></div><div class="d-none d-lg-inline-block"><a class="gatr" href="https://www.jdoqocy.com/click-100191173-10952823" data-type="banner" data-name="grammarly-01" target="_blank"><img class="img-fluid" data-lazy="/images/yml/grammarly-tower.png"></a></div></div></div><div class="col-12 col-lg-9 order-0 order-lg-0 order-1"><div class="pr-lg-5 py-5"><p class="m-0 serif small text-muted">Any thoughts or ideas?</p><h2 class="mb-4">Let's talk in the comment's section üí¨</h2><div class="disqus-comments"><div class="tip mb-5">Want to put a code sample in the comment? Read the <a target="_blank" rel="noopener" href="https://help.disqus.com/en/articles/1717236-syntax-highlighting"><b>Syntax highlighting</b></a> guide for more information.</div><div class="comments"><div id="disqus_thread"><div id="disqus_empty" style="display:none">Empty</div></div></div></div><script>function load_disqus(e){var t=document.getElementById("disqus_empty");if(document.contains(t)){var d=document.getElementById("disqus_thread"),n=document.createElement("script"),s=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];d&&t&&(t.remove(),n.type="text/javascript",n.async=!0,n.src="//"+e+".disqus.com/embed.js",s.appendChild(n))}}window.addEventListener("scroll",function(e){document.scrollingElement.scrollTop>document.getElementById("disqus_thread").offsetTop-500&&load_disqus("eprintstacktrace")},!1)</script></div></div></div></div></section></main><footer class="bg-dark" id="footer" data-debug="Scrolled to footer"><div class="container py-5"><div class="px-lg-0 px-3"><div class="row py-lg-3"><div class="col-12 col-md-6"><h5 class="mb-4">Latest blog posts</h5><ul class="list-unstyled mb-5"><li><a href="/merging-json-files-recursively-in-the-command-line/">Merging JSON files recursively in the command-line</a></li><li><a href="/jenkins-declarative-pipeline-dynamic-agent/">Jenkins Declarative Pipeline with the dynamic agent - how to configure it?</a></li><li><a href="/groovy-ecosystem-usage-report-2020/">Groovy Ecosystem Usage Report (2020)</a></li><li><a href="/how-to-convert-json-to-csv-from-the-command-line/">How to convert JSON to CSV from the command-line?</a></li><li><a href="/5-common-jenkins-pipeline-mistakes/">5 Common Jenkins Pipeline Mistakes</a></li><li><a href="/how-to-merge-two-maps-in-groovy/">How to merge two maps in Groovy?</a></li><li><a href="/building-stackoverflow-cli-with-java-11-micronaut-picocli-and-graalvm/">Building stackoverflow-cli with Java 11, Micronaut, Picocli, and GraalVM</a></li><li><a href="/how-to-catch-curl-response-in-jenkins-pipeline/">How to catch curl response in Jenkins Pipeline?</a></li><li><a href="/atomic-habits-book-review/">Atomic Habits - book review</a></li><li><a href="/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/">Parsing JSON in command-line with jq: basic filters and functions (part 1)</a></li></ul></div><div class="col-12 col-md-6"><h5 class="mb-4">Trending videos</h5><div class="youtube-row mb-4"><div class="row"><div class="col-12 col-lg-6 text-lg-left text-center mb-lg-0 mb-4"><a class="d-inline-block thumb gatr" target="_blank" rel="noopener" href="https://youtu.be/KwQDxwZRZiE" data-type="youtube" data-name="Jenkins Pipeline Environment Variables explained | #jenkinspipeline" data-time="16:43"><img class="img-fluid shadow" data-lazy="https://i3.ytimg.com/vi/KwQDxwZRZiE/mqdefault.jpg"></a></div><div class="col-12 col-lg-6"><h6 class="m-0 p-0 mb-3 sans-serif text-lg-left text-center px-lg-0 px-4"><a class="gatr" target="_blank" rel="noopener" href="https://youtu.be/KwQDxwZRZiE" data-type="youtube" data-name="Jenkins Pipeline Environment Variables explained | #jenkinspipeline">Jenkins Pipeline Environment Variables explained | #jenkinspipeline</a></h6><p class="sans-serif small text-justify">In today's video, I show you how you can work effectively with environment variables in the Jenkins pipeline as a code. You w...</p></div></div></div><div class="youtube-row mb-4"><div class="row"><div class="col-12 col-lg-6 text-lg-left text-center mb-lg-0 mb-4"><a class="d-inline-block thumb gatr" target="_blank" rel="noopener" href="https://youtu.be/RPdugI8eZgo" data-type="youtube" data-name="Using GraalVM native-image with a Groovy script - from 2.1s to 0.013s startup time üöÄ" data-time="15:51"><img class="img-fluid shadow" data-lazy="https://i3.ytimg.com/vi/RPdugI8eZgo/mqdefault.jpg"></a></div><div class="col-12 col-lg-6"><h6 class="m-0 p-0 mb-3 sans-serif text-lg-left text-center px-lg-0 px-4"><a class="gatr" target="_blank" rel="noopener" href="https://youtu.be/RPdugI8eZgo" data-type="youtube" data-name="Using GraalVM native-image with a Groovy script - from 2.1s to 0.013s startup time üöÄ">Using GraalVM native-image with a Groovy script - from 2.1s to 0.013s startup time üöÄ</a></h6><p class="sans-serif small text-justify">GraalVM native-image compiler uses ahead-of-time compilation to produce a highly optimized standalone executable file that ca...</p></div></div></div></div></div><div class="row text-lg-left text-center"><div class="col-12 col-md-3 mb-lg-0 mb-4"><h5 class="mb-4">Useful links</h5><ul class="list-unstyled"><li><a class="gatr" href="/" data-type="footer-useful-links" data-name="Start here">Start here</a></li><li><a class="gatr" href="/about" data-type="footer-useful-links" data-name="About">About</a></li><li><a class="gatr" href="/archives" data-type="footer-useful-links" data-name="Archives">Archives</a></li><li><a class="gatr" href="/resources" data-type="footer-useful-links" data-name="Resources">Resources</a></li><li><a class="gatr" href="/privacy-policy" data-type="footer-useful-links" data-name="Privacy Policy">Privacy Policy</a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://teespring.com/stores/eprintstacktrace" data-type="footer-useful-links" data-name="Merchandise">Merchandise</a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://kit.co/wololock" data-type="footer-useful-links" data-name="My Kit">My Kit</a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://feeds.feedburner.com/Eprintstacktracenet" data-type="footer-useful-links" data-name="RSS">RSS</a></li><li><a class="gatr" href="/support-me" data-type="footer-useful-links" data-name="Support me">Support the blog <em class="fas fa-heart color-red ml-2"></em></a></li></ul></div><div class="col-12 col-md-3 mb-lg-0 mb-4"><h5 class="mb-4">Popular categories</h5><ul class="list-unstyled"><li><a class="gatr" href="/groovy-cookbook/" data-type="footer-category" data-name="Groovy Cookbook">Groovy Cookbook<span class="count ml-2 text-muted">28</span></a></li><li><a class="gatr" href="/jenkins-pipeline-cookbook/" data-type="footer-category" data-name="Jenkins Pipeline Cookbook">Jenkins Pipeline Cookbook<span class="count ml-2 text-muted">9</span></a></li><li><a class="gatr" href="/programmers-bookshelf/" data-type="footer-category" data-name="Programmer's Bookshelf">Programmer's Bookshelf<span class="count ml-2 text-muted">6</span></a></li><li><a class="gatr" href="/micronaut-cookbook/" data-type="footer-category" data-name="Micronaut Cookbook">Micronaut Cookbook<span class="count ml-2 text-muted">4</span></a></li><li><a class="gatr" href="/ratpack-cookbook/" data-type="footer-category" data-name="Ratpack Cookbook">Ratpack Cookbook<span class="count ml-2 text-muted">4</span></a></li><li><a class="gatr" href="/learning-java/" data-type="footer-category" data-name="Learning Java">Learning Java<span class="count ml-2 text-muted">4</span></a></li><li><a class="gatr" href="/jq-cookbook/" data-type="footer-category" data-name="jq cookbook">jq cookbook<span class="count ml-2 text-muted">3</span></a></li><li><a class="gatr" href="/how-to/" data-type="footer-category" data-name="How to">How to<span class="count ml-2 text-muted">3</span></a></li><li><a class="gatr" href="/blog-reports/" data-type="footer-category" data-name="Blog Reports">Blog Reports<span class="count ml-2 text-muted">2</span></a></li></ul></div><div class="col-12 col-md-6"><h5 class="mb-4">Popular tags</h5><section class="tagcloud"><a href="/t/affiliate/" style="font-size:1.8em;color:#7b828b">affiliate</a> <a href="/t/async/" style="font-size:1.4em;color:#696f76">async</a> <a href="/t/benchmark/" style="font-size:1.6em;color:#727880">benchmark</a> <a href="/t/blogging/" style="font-size:1.2em;color:#60666b">blogging</a> <a href="/t/book/" style="font-size:2em;color:#848b95">book</a> <a href="/t/career/" style="font-size:1.2em;color:#60666b">career</a> <a href="/t/cicd/" style="font-size:2.4em;color:#969daa">cicd</a> <a href="/t/continuous-integration/" style="font-size:1.4em;color:#696f76">continuous-integration</a> <a href="/t/curl/" style="font-size:1.6em;color:#727880">curl</a> <a href="/t/devops/" style="font-size:2.2em;color:#8d94a0">devops</a> <a href="/t/docker/" style="font-size:1.6em;color:#727880">docker</a> <a href="/t/git/" style="font-size:1.2em;color:#60666b">git</a> <a href="/t/github/" style="font-size:1.4em;color:#696f76">github</a> <a href="/t/graalvm/" style="font-size:2.4em;color:#969daa">graalvm</a> <a href="/t/gradle/" style="font-size:1.2em;color:#60666b">gradle</a> <a href="/t/grails/" style="font-size:1.4em;color:#696f76">grails</a> <a href="/t/groovy/" style="font-size:3em;color:#b1b9ca">groovy</a> <a href="/t/haskell/" style="font-size:1.4em;color:#696f76">haskell</a> <a href="/t/hexo/" style="font-size:1.2em;color:#60666b">hexo</a> <a href="/t/java/" style="font-size:2.8em;color:#a8b0bf">java</a> <a href="/t/java-8/" style="font-size:1.4em;color:#696f76">java-8</a> <a href="/t/jenkins/" style="font-size:2.6em;color:#9fa7b5">jenkins</a> <a href="/t/jenkins-pipeline/" style="font-size:2.6em;color:#9fa7b5">jenkins-pipeline</a> <a href="/t/jenkinsfile/" style="font-size:1.4em;color:#696f76">jenkinsfile</a> <a href="/t/jmh/" style="font-size:1.8em;color:#7b828b">jmh</a> <a href="/t/jq/" style="font-size:1.6em;color:#727880">jq</a> <a href="/t/json/" style="font-size:1.6em;color:#727880">json</a> <a href="/t/junit/" style="font-size:1.4em;color:#696f76">junit</a> <a href="/t/learning/" style="font-size:1.6em;color:#727880">learning</a> <a href="/t/maven/" style="font-size:1.4em;color:#696f76">maven</a> <a href="/t/metaprogramming/" style="font-size:1.2em;color:#60666b">metaprogramming</a> <a href="/t/micronaut/" style="font-size:2em;color:#848b95">micronaut</a> <a href="/t/native-image/" style="font-size:1.8em;color:#7b828b">native-image</a> <a href="/t/non-blocking/" style="font-size:1.6em;color:#727880">non-blocking</a> <a href="/t/progress/" style="font-size:1.2em;color:#60666b">progress</a> <a href="/t/ratpack/" style="font-size:2.4em;color:#969daa">ratpack</a> <a href="/t/reactive-programming/" style="font-size:1.4em;color:#696f76">reactive-programming</a> <a href="/t/reading/" style="font-size:1.4em;color:#696f76">reading</a> <a href="/t/recursion/" style="font-size:1.4em;color:#696f76">recursion</a> <a href="/t/review/" style="font-size:2em;color:#848b95">review</a> <a href="/t/rxjava/" style="font-size:1.4em;color:#696f76">rxjava</a> <a href="/t/sdkman/" style="font-size:1.6em;color:#727880">sdkman</a> <a href="/t/session/" style="font-size:1.2em;color:#60666b">session</a> <a href="/t/split/" style="font-size:1.2em;color:#60666b">split</a> <a href="/t/spock/" style="font-size:1.6em;color:#727880">spock</a> <a href="/t/stackoverflow/" style="font-size:1.4em;color:#696f76">stackoverflow</a> <a href="/t/string/" style="font-size:1.4em;color:#696f76">string</a> <a href="/t/tail-call/" style="font-size:1.2em;color:#60666b">tail-call</a> <a href="/t/tail-recursion/" style="font-size:1.2em;color:#60666b">tail-recursion</a> <a href="/t/unit-test/" style="font-size:1.6em;color:#727880">unit-test</a></section></div></div></div></div><section class="bottom"><div class="container"><ul class="text-center py-1 m-0"><li class="d-inline-block">Designed by <a class="gatr" target="_blank" rel="noopener" href="https://twitter.com/wololock" data-type="footer" data-name="designed">@wololock</a></li><li class="d-inline-block">Created with <a class="gatr" target="_blank" rel="noopener" href="https://hexo.io" data-type="footer" data-name="hexo">Hexo</a></li><li class="d-inline-block">Hosted on <a class="gatr" target="_blank" rel="noopener" href="https://github.com/wololock/wololock.github.io" data-type="footer" data-name="github">GitHub</a></li><li class="d-inline-block">Deployed with <a class="gatr" target="_blank" rel="noopener" href="https://circleci.com/gh/wololock/wololock.github.io" data-type="footer" data-name="circleci">Circle CI</a></li><li class="d-inline-block">License <a class="gatr" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" data-type="footer" data-name="license">CC BY-NC-SA 4.0</a></li><li class="d-inline-block"><a class="gatr" target="_blank" rel="noopener" href="https://github.com/wololock/wololock.github.io/commits/develop" data-type="footer" data-name="last-commit"><img data-lazy="https://badgen.net/github/last-commit/wololock/wololock.github.io?color=blue&amp;scale=0.8"></a></li></ul></div></section></footer><script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/48c5da59c9.js" crossorigin="anonymous" async></script><script async id="cookiebanner" src="//cdnjs.cloudflare.com/ajax/libs/cookie-banner/1.2.2/cookiebanner.min.js" data-moreinfo="/privacy-policy/" data-message="This blog uses cookies to enhance your experience. By continuing to visit it you agree to its use of cookies." data-link="#5fc4ff" data-font-family="Lora,serif" data-font-size="16px" data-bg="#1d2b36"></script><script src="/js/main.js?v=11"></script><script src="/js/highlightjs/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad()</script><script async id="dsq-count-scr" src="//eprintstacktrace.disqus.com/count.js"></script><script>!function(e,t,a,c,n,i,r){e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,i=t.createElement(a),r=t.getElementsByTagName(a)[0],i.async=1,i.src="//www.google-analytics.com/analytics.js",r.parentNode.insertBefore(i,r)}(window,document,"script",0,"ga"),ga("create","UA-42400890-5","auto"),ga("send","pageview"),jQuery(document).on("mousedown","a.gatr",function(e){var t=jQuery(this),a=t.attr("data-type"),c=t.attr("data-name"),n=1===e.which?"click":2===e.which?"middle-click":"right-click";return ga("send","event",a,n,c),!0}),jQuery(document).on("mousedown","#related a",function(e){var t=jQuery(this),a=1===e.which?"click":2===e.which?"middle-click":"right-click";return ga("send","event","related",a,t.attr("href")),!0}),jQuery(document).on("mousedown","#footer a",function(e){var t=jQuery(this),a=1===e.which?"click":2===e.which?"middle-click":"right-click";return ga("send","event","footer",a,t.attr("href")),!0})</script><script>!function(){"use strict";function r(e){var t=e.getAttribute("data-original"),n=new Image;n.onload=function(){e.setAttribute("src",t),e.style.paddingTop=""},n.src=t}document.addEventListener("DOMContentLoaded",function(){var t,e,n,i=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));i.length&&("undefined"!=typeof IntersectionObserver?(t=new IntersectionObserver(function(e,t){e.filter(function(e){return e.isIntersecting}).forEach(function(e){r(e.target),t.unobserve(e.target)})}),i.forEach(function(e){t.observe(e)})):(n=function(){clearTimeout(e),e=setTimeout(function(){return(i=i.filter(function(e){return!e.src})).length?void i.filter(function(e){e.getBoundingClientRect().top<window.innerHeight&&r(e)}):(window.removeEventListener("scroll",n),void window.removeEventListener("resize",n))},100)},window.addEventListener("scroll",n),window.addEventListener("resize",n),n()))},!1)}();</script></body></html>